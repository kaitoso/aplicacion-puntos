var z0=Object.defineProperty,W0=Object.defineProperties;var G0=Object.getOwnPropertyDescriptors;var jm=Object.getOwnPropertySymbols,K0=Object.getPrototypeOf,Q0=Object.prototype.hasOwnProperty,Y0=Object.prototype.propertyIsEnumerable,Z0=Reflect.get;var Bm=(t,e,n)=>e in t?z0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v=(t,e)=>{for(var n in e||={})Q0.call(e,n)&&Bm(t,n,e[n]);if(jm)for(var n of jm(e))Y0.call(e,n)&&Bm(t,n,e[n]);return t},te=(t,e)=>W0(t,G0(e));var hn=(t,e,n)=>Z0(K0(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var $m=null;var ol=1,Hm=Symbol("SIGNAL");function Ne(t){let e=$m;return $m=t,e}var qm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function J0(t){if(!(ul(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ol)){if(!t.producerMustRecompute(t)&&!al(t)){t.dirty=!1,t.lastCleanEpoch=ol;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ol}}function zm(t){return t&&(t.nextProducerIndex=0),Ne(t)}function Wm(t,e){if(Ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ul(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function al(t){Wo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(J0(n),r!==n.version))return!0}return!1}function Gm(t){if(Wo(t),ul(t))for(let e=0;e<t.producerNode.length;e++)cl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cl(t,e){if(X0(t),Wo(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)cl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wo(i),i.producerIndexOfThis[r]=e}}function ul(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function X0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function eD(){throw new Error}var tD=eD;function Km(t){tD=t}function C(t){return typeof t=="function"}function Pr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Go=Pr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $n(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(C(r))try{r()}catch(s){e=s instanceof Go?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Qm(s)}catch(o){e=e??[],o instanceof Go?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Go(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Qm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$n(n,e)}remove(e){let{_finalizers:n}=this;n&&$n(n,e),e instanceof t&&e._removeParent(this)}};re.EMPTY=(()=>{let t=new re;return t.closed=!0,t})();var ll=re.EMPTY;function Ko(t){return t instanceof re||t&&"closed"in t&&C(t.remove)&&C(t.add)&&C(t.unsubscribe)}function Qm(t){C(t)?t():t.unsubscribe()}var ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mr={setTimeout(t,e,...n){let{delegate:r}=Mr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qo(t){Mr.setTimeout(()=>{let{onUnhandledError:e}=ct;if(e)e(t);else throw t})}function Gi(){}var Ym=dl("C",void 0,void 0);function Zm(t){return dl("E",void 0,t)}function Jm(t){return dl("N",t,void 0)}function dl(t,e,n){return{kind:t,value:e,error:n}}var Hn=null;function kr(t){if(ct.useDeprecatedSynchronousErrorHandling){let e=!Hn;if(e&&(Hn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hn;if(Hn=null,n)throw r}}else t()}function Xm(t){ct.useDeprecatedSynchronousErrorHandling&&Hn&&(Hn.errorThrown=!0,Hn.error=t)}var qn=class extends re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ko(e)&&e.add(this)):this.destination=iD}static create(e,n,r){return new Or(e,n,r)}next(e){this.isStopped?fl(Jm(e),this):this._next(e)}error(e){this.isStopped?fl(Zm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fl(Ym,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nD=Function.prototype.bind;function hl(t,e){return nD.call(t,e)}var pl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yo(r)}else Yo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yo(n)}}},Or=class extends qn{constructor(e,n,r){super();let i;if(C(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ct.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hl(e.next,s),error:e.error&&hl(e.error,s),complete:e.complete&&hl(e.complete,s)}):i=e}this.destination=new pl(i)}};function Yo(t){ct.useDeprecatedSynchronousErrorHandling?Xm(t):Qo(t)}function rD(t){throw t}function fl(t,e){let{onStoppedNotification:n}=ct;n&&Mr.setTimeout(()=>n(t,e))}var iD={closed:!0,next:Gi,error:rD,complete:Gi};var Lr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ue(t){return t}function gl(...t){return ml(t)}function ml(t){return t.length===0?Ue:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var H=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oD(n)?n:new Or(n,r,i);return kr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ey(r),new r((i,s)=>{let o=new Or({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lr](){return this}pipe(...n){return ml(n)(this)}toPromise(n){return n=ey(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ey(t){var e;return(e=t??ct.Promise)!==null&&e!==void 0?e:Promise}function sD(t){return t&&C(t.next)&&C(t.error)&&C(t.complete)}function oD(t){return t&&t instanceof qn||sD(t)&&Ko(t)}function yl(t){return C(t?.lift)}function k(t){return e=>{if(yl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new _l(t,e,n,r,i)}var _l=class extends qn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fr(){return k((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vr=class extends H{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new re;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=re.EMPTY)}return e}refCount(){return Fr()(this)}};var ty=Pr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ty}next(n){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ll:(this.currentObservers=null,s.push(n),new re(()=>{this.currentObservers=null,$n(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new H;return n.source=this,n}}return t.create=(e,n)=>new Zo(e,n),t})(),Zo=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ll}};var ve=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vl={now(){return(vl.delegate||Date).now()},delegate:void 0};var Jo=class extends re{constructor(e,n){super()}schedule(e,n=0){return this}};var Ki={setInterval(t,e,...n){let{delegate:r}=Ki;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ki;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ur=class extends Jo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ki.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ki.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$n(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var jr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};jr.now=vl.now;var Br=class extends jr{constructor(e,n=jr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var wl=new Br(Ur);var Xo=class extends Ur{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ea=class extends Br{};var Il=new ea(Xo);var Qe=new H(t=>t.complete());function ny(t){return t&&C(t.schedule)}function ry(t){return t[t.length-1]}function iy(t){return C(ry(t))?t.pop():void 0}function fn(t){return ny(ry(t))?t.pop():void 0}function El(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oy(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function sy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zn(t){return this instanceof zn?(this.v=t,this):new zn(t)}function ay(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,w){s.push([h,f,g,w])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof zn?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sy=="function"?sy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var ta=t=>t&&typeof t.length=="number"&&typeof t!="function";function na(t){return C(t?.then)}function ra(t){return C(t[Lr])}function ia(t){return Symbol.asyncIterator&&C(t?.[Symbol.asyncIterator])}function sa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var oa=aD();function aa(t){return C(t?.[oa])}function ca(t){return ay(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zn(n.read());if(i)return yield zn(void 0);yield yield zn(r)}}finally{n.releaseLock()}})}function ua(t){return C(t?.getReader)}function de(t){if(t instanceof H)return t;if(t!=null){if(ra(t))return cD(t);if(ta(t))return uD(t);if(na(t))return lD(t);if(ia(t))return uy(t);if(aa(t))return dD(t);if(ua(t))return hD(t)}throw sa(t)}function cD(t){return new H(e=>{let n=t[Lr]();if(C(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uD(t){return new H(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lD(t){return new H(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qo)})}function dD(t){return new H(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uy(t){return new H(e=>{fD(t,e).catch(n=>e.error(n))})}function hD(t){return uy(ca(t))}function fD(t,e){var n,r,i,s;return oy(this,void 0,void 0,function*(){try{for(n=cy(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ke(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function pn(t,e=0){return k((n,r)=>{n.subscribe(O(r,i=>ke(r,t,()=>r.next(i),e),()=>ke(r,t,()=>r.complete(),e),i=>ke(r,t,()=>r.error(i),e)))})}function gn(t,e=0){return k((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ly(t,e){return de(t).pipe(gn(e),pn(e))}function dy(t,e){return de(t).pipe(gn(e),pn(e))}function hy(t,e){return new H(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fy(t,e){return new H(n=>{let r;return ke(n,e,()=>{r=t[oa](),ke(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}function la(t,e){if(!t)throw new Error("Iterable cannot be null");return new H(n=>{ke(n,e,()=>{let r=t[Symbol.asyncIterator]();ke(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function py(t,e){return la(ca(t),e)}function gy(t,e){if(t!=null){if(ra(t))return ly(t,e);if(ta(t))return hy(t,e);if(na(t))return dy(t,e);if(ia(t))return la(t,e);if(aa(t))return fy(t,e);if(ua(t))return py(t,e)}throw sa(t)}function se(t,e){return e?gy(t,e):de(t)}function S(...t){let e=fn(t);return se(t,e)}function $r(t,e){let n=C(t)?t:()=>t,r=i=>i.error(n());return new H(e?i=>e.schedule(r,0,i):r)}function Tl(t){return!!t&&(t instanceof H||C(t.lift)&&C(t.subscribe))}var Gt=Pr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function L(t,e){return k((n,r)=>{let i=0;n.subscribe(O(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pD}=Array;function gD(t,e){return pD(e)?t(...e):t(e)}function my(t){return L(e=>gD(t,e))}var{isArray:mD}=Array,{getPrototypeOf:yD,prototype:_D,keys:vD}=Object;function yy(t){if(t.length===1){let e=t[0];if(mD(e))return{args:e,keys:null};if(wD(e)){let n=vD(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wD(t){return t&&typeof t=="object"&&yD(t)===_D}function _y(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function da(...t){let e=fn(t),n=iy(t),{args:r,keys:i}=yy(t);if(r.length===0)return se([],e);let s=new H(ID(r,e,i?o=>_y(i,o):Ue));return n?s.pipe(my(n)):s}function ID(t,e,n=Ue){return r=>{vy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)vy(e,()=>{let u=se(t[c],e),l=!1;u.subscribe(O(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function vy(t,e,n){t?ke(n,t,e):e()}function wy(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=w=>u<r?g(w):c.push(w),g=w=>{s&&e.next(w),u++;let j=!1;de(n(w,l++)).subscribe(O(e,q=>{i?.(q),s?f(q):e.next(q)},()=>{j=!0},void 0,()=>{if(j)try{for(u--;c.length&&u<r;){let q=c.shift();o?ke(e,o,()=>g(q)):g(q)}h()}catch(q){e.error(q)}}))};return t.subscribe(O(e,f,()=>{d=!0,h()})),()=>{a?.()}}function oe(t,e,n=1/0){return C(e)?oe((r,i)=>L((s,o)=>e(r,s,i,o))(de(t(r,i))),n):(typeof e=="number"&&(n=e),k((r,i)=>wy(r,i,t,n)))}function Cl(t=1/0){return oe(Ue,t)}function Iy(){return Cl(1)}function Hr(...t){return Iy()(se(t,fn(t)))}function ha(t){return new H(e=>{de(t()).subscribe(e)})}function ut(t,e){return k((n,r)=>{let i=0;n.subscribe(O(r,s=>t.call(e,s,i++)&&r.next(s)))})}function mn(t){return k((e,n)=>{let r=null,i=!1,s;r=e.subscribe(O(n,void 0,void 0,o=>{s=de(t(o,mn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ey(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(O(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function qr(t,e){return C(e)?oe(t,e,1):oe(t,1)}function yn(t){return k((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Kt(t){return t<=0?()=>Qe:k((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dl(t){return L(()=>t)}function fa(t=ED){return k((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ED(){return new Gt}function Qi(t){return k((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function St(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,s)=>t(i,s,r)):Ue,Kt(1),n?yn(e):fa(()=>new Gt))}function zr(t){return t<=0?()=>Qe:k((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,s)=>t(i,s,r)):Ue,zr(1),n?yn(e):fa(()=>new Gt))}function Sl(t,e){return k(Ey(t,e,arguments.length>=2,!0))}function Al(...t){let e=fn(t);return k((n,r)=>{(e?Hr(t,n,e):Hr(t,n)).subscribe(r)})}function lt(t,e){return k((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(O(r,c=>{i?.unsubscribe();let u=0,l=s++;de(t(c,l)).subscribe(i=O(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Rl(t){return k((e,n)=>{de(t).subscribe(O(n,()=>n.complete(),Gi)),!n.closed&&e.subscribe(n)})}function ie(t,e,n){let r=C(t)||e||n?{next:t,error:e,complete:n}:t;return r?k((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(O(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ue}var s_="https://g.co/ng/security#xss",T=class extends Error{constructor(e,n){super(Ed(e,n)),this.code=e}};function Ed(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Bl=class extends je{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Nl(s),i&&(i=Nl(i)),o&&(o=Nl(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof re&&e.add(a),a}};function Nl(t){return e=>{setTimeout(t,void 0,e)}}var ht=Bl;var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(N||{});function Be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ty(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var o_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(o_||{}),Nt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Nt||{});function fs(t){return{toString:t}.toString()}var Yi=globalThis;var es={},At=[];function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("Could not find renamed property on target object.")}var TD=Q({\u0275cmp:Q}),CD=Q({\u0275dir:Q}),DD=Q({\u0275pipe:Q}),bD=Q({\u0275mod:Q}),wa=Q({\u0275fac:Q}),Zi=Q({__NG_ELEMENT_ID__:Q}),Cy=Q({__NG_ENV_ID__:Q}),wn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wn||{});function a_(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function $l(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];AD(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function SD(t){return t===3||t===4||t===6}function AD(t){return t.charCodeAt(0)===64}function Td(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Dy(t,n,i,null,e[++r]):Dy(t,n,i,null,null))}}return t}function Dy(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var c_="ng-template";function RD(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&a_(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function u_(t){return t.type===4&&t.value!==c_}function ND(t,e,n){let r=t.type===4&&!n?c_:t.value;return e===r}function xD(t,e,n){let r=4,i=t.attrs||[],s=kD(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!dt(r)&&!dt(c))return!1;if(o&&dt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!ND(t,c,n)||c===""&&e.length===1){if(dt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!RD(t.attrs,u,n)){if(dt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=PD(l,i,u_(t),n);if(d===-1){if(dt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&a_(f,u,0)!==-1||r&2&&u!==h){if(dt(r))return!1;o=!0}}}}return dt(r)||o}function dt(t){return(t&1)===0}function PD(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OD(e,t)}function MD(t,e,n=!1){for(let r=0;r<e.length;r++)if(xD(t,e[r],n))return!0;return!1}function kD(t){for(let e=0;e<t.length;e++){let n=t[e];if(SD(n))return e}return t.length}function OD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function by(t,e){return t?":not("+e.trim()+")":e}function LD(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!dt(o)&&(e+=by(s,i),i=""),r=o,s=s||!dt(r);n++}return i!==""&&(e+=by(s,i)),e}function FD(t){return t.map(LD).join(",")}function VD(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!dt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ua(t){return fs(()=>{let e=p_(t),n=te(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===o_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""});g_(n);let r=t.dependencies;return n.directiveDefs=Ay(r,!1),n.pipeDefs=Ay(r,!0),n.id=BD(n),n})}function UD(t){return Gn(t)||l_(t)}function jD(t){return t!==null}function gt(t){return fs(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sy(t,e){if(t==null)return es;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=wn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==wn.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Cd(t){return fs(()=>{let e=p_(t);return g_(e),e})}function Gn(t){return t[TD]||null}function l_(t){return t[CD]||null}function d_(t){return t[DD]||null}function h_(t){let e=Gn(t)||l_(t)||d_(t);return e!==null?e.standalone:!1}function f_(t,e){let n=t[bD]||null;if(!n&&e===!0)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return n}function p_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||es,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sy(t.inputs,e),outputs:Sy(t.outputs),debugInfo:null}}function g_(t){t.features?.forEach(e=>e(t))}function Ay(t,e){if(!t)return null;let n=e?d_:UD;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jD)}function BD(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Xt=0,P=1,I=2,Ce=3,ft=4,mt=5,ts=6,Ry=7,Je=8,Zr=9,Qt=10,$e=11,ns=12,Ny=13,ps=14,pt=15,ja=16,Wr=17,Jr=18,Ba=19,m_=20,Ji=21,xl=22,Kn=23,Yt=25,y_=1;var Qn=7,Ia=8,Ea=9,xe=10,Dd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Dd||{});function Qr(t){return Array.isArray(t)&&typeof t[y_]=="object"}function en(t){return Array.isArray(t)&&t[y_]===!0}function __(t){return(t.flags&4)!==0}function $a(t){return t.componentOffset>-1}function v_(t){return(t.flags&1)===1}function gs(t){return!!t.template}function $D(t){return(t[I]&512)!==0}var w_="svg",HD="math",qD=!1;function zD(){return qD}function Zt(t){for(;Array.isArray(t);)t=t[Xt];return t}function WD(t,e){return Zt(e[t])}function xt(t,e){return Zt(e[t.index])}function bd(t,e){return t.data[e]}function ri(t,e){let n=e[t];return Qr(n)?n:n[Xt]}function Sd(t){return(t[I]&128)===128}function GD(t){return en(t[Ce])}function Ta(t,e){return e==null?null:t[e]}function I_(t){t[Wr]=0}function KD(t){t[I]&1024||(t[I]|=1024,Sd(t)&&rs(t))}function Ad(t){return!!(t[I]&9216||t[Kn]?.dirty)}function Hl(t){Ad(t)?rs(t):t[I]&64&&(zD()?(t[I]|=1024,rs(t)):t[Qt].changeDetectionScheduler?.notify())}function rs(t){t[Qt].changeDetectionScheduler?.notify();let e=is(t);for(;e!==null&&!(e[I]&8192||(e[I]|=8192,!Sd(e)));)e=is(e)}function QD(t,e){if((t[I]&256)===256)throw new T(911,!1);t[Ji]===null&&(t[Ji]=[]),t[Ji].push(e)}function is(t){let e=t[Ce];return en(e)?e[Ce]:e}var B={lFrame:R_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function YD(){return B.lFrame.elementDepthCount}function ZD(){B.lFrame.elementDepthCount++}function JD(){B.lFrame.elementDepthCount--}function E_(){return B.bindingsEnabled}function XD(){return B.skipHydrationRootTNode!==null}function eb(t){return B.skipHydrationRootTNode===t}function tb(){B.skipHydrationRootTNode=null}function ae(){return B.lFrame.lView}function ii(){return B.lFrame.tView}function Tn(){let t=T_();for(;t!==null&&t.type===64;)t=t.parent;return t}function T_(){return B.lFrame.currentTNode}function nb(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ms(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function C_(){return B.lFrame.isParent}function rb(){B.lFrame.isParent=!1}function D_(){let t=B.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ib(t){return B.lFrame.bindingIndex=t}function Rd(){return B.lFrame.bindingIndex++}function sb(){return B.lFrame.inI18n}function ob(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,ql(e)}function ab(){return B.lFrame.currentDirectiveIndex}function ql(t){B.lFrame.currentDirectiveIndex=t}function b_(t){B.lFrame.currentQueryIndex=t}function cb(t){let e=t[P];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function S_(t,e,n){if(n&N.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&N.Host);)if(i=cb(s),i===null||(s=s[ps],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=B.lFrame=A_();return r.currentTNode=e,r.lView=t,!0}function Nd(t){let e=A_(),n=t[P];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function A_(){let t=B.lFrame,e=t===null?null:t.child;return e===null?R_(t):e}function R_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function N_(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var x_=N_;function xd(){let t=N_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ha(){return B.lFrame.selectedIndex}function Yn(t){B.lFrame.selectedIndex=t}function ub(){let t=B.lFrame;return bd(t.tView,t.selectedIndex)}function si(){B.lFrame.currentNamespace=w_}function ys(){lb()}function lb(){B.lFrame.currentNamespace=null}function db(){return B.lFrame.currentNamespace}var P_=!0;function Pd(){return P_}function Md(t){P_=t}function hb(){return kd(Tn(),ae())}function kd(t,e){return new qa(xt(t,e))}var qa=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hb;let t=e;return t})();function Od(t,e){t.forEach(n=>Array.isArray(n)?Od(n,e):e(n))}function M_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ca(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function k_(t){return(t.flags&128)===128}var zl;function O_(t){zl=t}function fb(){if(zl!==void 0)return zl;if(typeof document<"u")return document;throw new T(210,!1)}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function za(t){return xy(t,F_)||xy(t,V_)}function L_(t){return za(t)!==null}function xy(t,e){return t.hasOwnProperty(e)?t[e]:null}function pb(t){let e=t&&(t[F_]||t[V_]);return e||null}function Py(t){return t&&(t.hasOwnProperty(My)||t.hasOwnProperty(gb))?t[My]:null}var F_=Q({\u0275prov:Q}),My=Q({\u0275inj:Q}),V_=Q({ngInjectableDef:Q}),gb=Q({ngInjectorDef:Q}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Ld=new A("",{providedIn:"root",factory:()=>mb}),mb="ng",Fd=new A(""),Cn=new A("",{providedIn:"platform",factory:()=>"unknown"});var Vd=new A("",{providedIn:"root",factory:()=>fb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yb=Q({__forward_ref__:Q});function U_(t){return t.__forward_ref__=U_,t.toString=function(){return Be(this())},t}function Ze(t){return j_(t)?t():t}function j_(t){return typeof t=="function"&&t.hasOwnProperty(yb)&&t.__forward_ref__===U_}function B_(t){return t&&!!t.\u0275providers}function Ud(t){return typeof t=="string"?t:t==null?"":String(t)}function _b(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ud(t)}function vb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,t)}function jd(t,e){throw new T(-201,!1)}var Wl;function wb(){return Wl}function Ye(t){let e=Wl;return Wl=t,e}function $_(t,e,n){let r=za(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&N.Optional)return null;if(e!==void 0)return e;jd(t,"Injector")}var Ib={},ss=Ib,Gl="__NG_DI_FLAG__",Da="ngTempTokenPath",Eb="ngTokenPath",Tb=/\n/gm,Cb="\u0275",ky="__source",Xi;function _n(t){let e=Xi;return Xi=t,e}function Db(t,e=N.Default){if(Xi===void 0)throw new T(-203,!1);return Xi===null?$_(t,void 0,e):Xi.get(t,e&N.Optional?null:void 0,e)}function x(t,e=N.Default){return(wb()||Db)(Ze(t),e)}function _(t,e=N.Default){return x(t,Wa(e))}function Wa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kl(t){let e=[];for(let n=0;n<t.length;n++){let r=Ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,s=N.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Sb(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function bb(t,e){return t[Gl]=e,t.prototype[Gl]=e,t}function Sb(t){return t[Gl]}function Ab(t,e,n,r){let i=t[Da];throw e[ky]&&i.unshift(e[ky]),t.message=Rb(`
`+t.message,i,n,r),t[Eb]=i,t[Da]=null,t}function Rb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Cb?t.slice(2):t;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Tb,`
  `)}`}var Nb="h",xb="b";var Pb=()=>null;function Bd(t,e,n=!1){return Pb(t,e,n)}var pa="__parameters__";function Mb(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function kb(t,e,n){return fs(()=>{let r=Mb(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(pa)?c[pa]:Object.defineProperty(c,pa,{value:[]})[pa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ce=bb(kb("Optional"),8);function Xr(t,e){let n=t.hasOwnProperty(wa);return n?t[wa]:null}var ei=new A(""),H_=new A("",-1),q_=new A(""),ba=class{get(e,n=ss){if(n===ss){let r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ga(t){return{\u0275providers:t}}function oi(...t){return{\u0275providers:z_(!0,t),\u0275fromNgModule:!0}}function z_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Od(e,o=>{let a=o;Ql(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&W_(i,s),n}function W_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$d(i,s=>{e(s,r)})}}function Ql(t,e,n,r){if(t=Ze(t),!t)return!1;let i=null,s=Py(t),o=!s&&Gn(t);if(!s&&!o){let c=t.ngModule;if(s=Py(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Ql(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Od(s.imports,l=>{Ql(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&W_(u,e)}if(!a){let u=Xr(i)||(()=>new i);e({provide:i,useFactory:u,deps:At},i),e({provide:q_,useValue:i,multi:!0},i),e({provide:ei,useValue:()=>x(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;$d(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function $d(t,e){for(let n of t)B_(n)&&(n=n.\u0275providers),Array.isArray(n)?$d(n,e):e(n)}var Ob=Q({provide:String,useValue:Q});function G_(t){return t!==null&&typeof t=="object"&&Ob in t}function Lb(t){return!!(t&&t.useExisting)}function Fb(t){return!!(t&&t.useFactory)}function Yl(t){return typeof t=="function"}var Ka=new A(""),ga={},Vb={},Pl;function Hd(){return Pl===void 0&&(Pl=new ba),Pl}var Xe=class{},os=class extends Xe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jl(e,o=>this.processProvider(o)),this.records.set(H_,Gr(void 0,this)),i.has("environment")&&this.records.set(Xe,Gr(void 0,this));let s=this.records.get(Ka);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(q_,At,N.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=_n(this),r=Ye(void 0),i;try{return e()}finally{_n(n),Ye(r)}}get(e,n=ss,r=N.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Cy))return e[Cy](this);r=Wa(r);let i,s=_n(this),o=Ye(void 0);try{if(!(r&N.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=qb(e)&&za(e);u&&this.injectableDefInScope(u)?c=Gr(Zl(e),ga):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&N.Self?Hd():this.parent;return n=r&N.Optional&&n===ss?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Da]=a[Da]||[]).unshift(Be(e)),s)throw a;return Ab(a,e,"R3InjectorError",this.source)}else throw a}finally{Ye(o),_n(s)}}resolveInjectorInitializers(){let e=_n(this),n=Ye(void 0),r;try{let i=this.get(ei,At,N.Self);for(let s of i)s()}finally{_n(e),Ye(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){e=Ze(e);let n=Yl(e)?e:Ze(e&&e.provide),r=jb(e);if(!Yl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gr(void 0,ga,!0),i.factory=()=>Kl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ga&&(n.value=Vb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Hb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zl(t){let e=za(t),n=e!==null?e.factory:Xr(t);if(n!==null)return n;if(t instanceof A)throw new T(204,!1);if(t instanceof Function)return Ub(t);throw new T(204,!1)}function Ub(t){if(t.length>0)throw new T(204,!1);let n=pb(t);return n!==null?()=>n.factory(t):()=>new t}function jb(t){if(G_(t))return Gr(void 0,t.useValue);{let e=Bb(t);return Gr(e,ga)}}function Bb(t,e,n){let r;if(Yl(t)){let i=Ze(t);return Xr(i)||Zl(i)}else if(G_(t))r=()=>Ze(t.useValue);else if(Fb(t))r=()=>t.useFactory(...Kl(t.deps||[]));else if(Lb(t))r=()=>x(Ze(t.useExisting));else{let i=Ze(t&&(t.useClass||t.provide));if($b(t))r=()=>new i(...Kl(t.deps));else return Xr(i)||Zl(i)}return r}function Gr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $b(t){return!!t.deps}function Hb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qb(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function Jl(t,e){for(let n of t)Array.isArray(n)?Jl(n,e):n&&B_(n)?Jl(n.\u0275providers,e):e(n)}function Jn(t,e){t instanceof os&&t.assertNotDestroyed();let n,r=_n(t),i=Ye(void 0);try{return e()}finally{_n(r),Ye(i)}}function zb(t){return typeof t=="function"}var Xl=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function K_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Qa(){return Q_}function Q_(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gb),Wb}Qa.ngInherit=!0;function Wb(){let t=Z_(this),e=t?.current;if(e){let n=t.previous;if(n===es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Gb(t,e,n,r,i){let s=this.declaredInputs[r],o=Z_(t)||Kb(t,{previous:es,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Xl(u&&u.currentValue,n,c===es),K_(t,e,i,n)}var Y_="__ngSimpleChanges__";function Z_(t){return t[Y_]||null}function Kb(t,e){return t[Y_]=e}var Oy=null;var vn=function(t,e,n){Oy?.(t,e,n)};function Qb(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Q_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function qd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function ma(t,e,n){J_(t,e,3,n)}function ya(t,e,n,r){(t[I]&3)===n&&J_(t,e,n,r)}function Ml(t,e){let n=t[I];(n&3)===e&&(n&=16383,n+=1,t[I]=n)}function J_(t,e,n,r){let i=r!==void 0?t[Wr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Wr]+=65536),(a<s||s==-1)&&(Yb(t,n,e,c),t[Wr]=(t[Wr]&4294901760)+c+2),c++}function Ly(t,e){vn(4,t,e);let n=Ne(null);try{e.call(t)}finally{Ne(n),vn(5,t,e)}}function Yb(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[I]>>14<t[Wr]>>16&&(t[I]&3)===e&&(t[I]+=16384,Ly(a,s)):Ly(a,s)}var Yr=-1,as=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Zb(t){return t instanceof as}function Jb(t){return(t.flags&8)!==0}function Xb(t){return(t.flags&16)!==0}function X_(t){return t!==Yr}function Sa(t){return t&32767}function eS(t){return t>>16}function Aa(t,e){let n=eS(t),r=e;for(;n>0;)r=r[ps],n--;return r}var ed=!0;function Fy(t){let e=ed;return ed=t,e}var tS=256,ev=tS-1,tv=5,nS=0,Rt={};function rS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zi)&&(r=n[Zi]),r==null&&(r=n[Zi]=nS++);let i=r&ev,s=1<<i;e.data[t+(i>>tv)]|=s}function nv(t,e){let n=rv(t,e);if(n!==-1)return n;let r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,kl(r.data,t),kl(e,null),kl(r.blueprint,null));let i=zd(t,e),s=t.injectorIndex;if(X_(i)){let o=Sa(i),a=Aa(i,e),c=a[P].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function kl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cv(i),r===null)return Yr;if(n++,i=i[ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yr}function iS(t,e,n){rS(t,e,n)}function iv(t,e,n){if(n&N.Optional||t!==void 0)return t;jd(e,"NodeInjector")}function sv(t,e,n,r){if(n&N.Optional&&r===void 0&&(r=null),!(n&(N.Self|N.Host))){let i=t[Zr],s=Ye(void 0);try{return i?i.get(e,r,n&N.Optional):$_(e,r,n&N.Optional)}finally{Ye(s)}}return iv(r,e,n)}function ov(t,e,n,r=N.Default,i){if(t!==null){if(e[I]&2048&&!(r&N.Self)){let o=uS(t,e,n,r,Rt);if(o!==Rt)return o}let s=av(t,e,n,r,Rt);if(s!==Rt)return s}return sv(e,n,r,i)}function av(t,e,n,r,i){let s=aS(n);if(typeof s=="function"){if(!S_(e,t,r))return r&N.Host?iv(i,n,r):sv(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&N.Optional))jd(n);else return o}finally{x_()}}else if(typeof s=="number"){let o=null,a=rv(t,e),c=Yr,u=r&N.Host?e[pt][mt]:null;for((a===-1||r&N.SkipSelf)&&(c=a===-1?zd(t,e):e[a+8],c===Yr||!Uy(r,!1)?a=-1:(o=e[P],a=Sa(c),e=Aa(c,e)));a!==-1;){let l=e[P];if(Vy(s,a,l.data)){let d=sS(a,e,n,o,r,u);if(d!==Rt)return d}c=e[a+8],c!==Yr&&Uy(r,e[P].data[a+8]===u)&&Vy(s,a,e)?(o=l,a=Sa(c),e=Aa(c,e)):a=-1}}return i}function sS(t,e,n,r,i,s){let o=e[P],a=o.data[t+8],c=r==null?$a(a)&&ed:r!=o&&(a.type&3)!==0,u=i&N.Host&&s===a,l=oS(a,o,n,c,u);return l!==null?cs(e,o,l,a):Rt}function oS(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&gs(f)&&f.type===n)return c}return null}function cs(t,e,n,r){let i=t[n],s=e.data;if(Zb(i)){let o=i;o.resolving&&vb(_b(s[n]));let a=Fy(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Ye(o.injectImpl):null,l=S_(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Qb(n,s[n],e)}finally{u!==null&&Ye(u),Fy(a),o.resolving=!1,x_()}}return i}function aS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zi)?t[Zi]:void 0;return typeof e=="number"?e>=0?e&ev:cS:e}function Vy(t,e,n){let r=1<<t;return!!(n[e+(t>>tv)]&r)}function Uy(t,e){return!(t&N.Self)&&!(t&N.Host&&e)}var Wn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ov(this._tNode,this._lView,e,Wa(r),n)}};function cS(){return new Wn(Tn(),ae())}function Wd(t){return fs(()=>{let e=t.prototype.constructor,n=e[wa]||td(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[wa]||td(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function td(t){return j_(t)?()=>{let e=td(Ze(t));return e&&e()}:Xr(t)}function uS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[I]&2048&&!(o[I]&512);){let a=av(s,o,n,r|N.Self,Rt);if(a!==Rt)return a;let c=s.parent;if(!c){let u=o[m_];if(u){let l=u.get(n,Rt,r);if(l!==Rt)return l}c=cv(o),o=o[ps]}s=c}return i}function cv(t){let e=t[P],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function jy(t,e=null,n=null,r){let i=uv(t,e,n,r);return i.resolveInjectorInitializers(),i}function uv(t,e=null,n=null,r,i=new Set){let s=[n||At,oi(t)];return r=r||(typeof t=="object"?void 0:Be(t)),new os(s,e||Hd(),r||null,i)}var He=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return jy({name:""},i,r,"");{let s=r.name??"";return jy({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ss,e.NULL=new ba,e.\u0275prov=D({token:e,providedIn:"any",factory:()=>x(H_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),lS="ngOriginalError";function Ol(t){return t[lS]}var Jt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ol(e);for(;n&&Ol(n);)n=Ol(n);return n||null}},lv=new A("",{providedIn:"root",factory:()=>_(Jt).handleError.bind(void 0)});var dv=!1,dS=new A("",{providedIn:"root",factory:()=>dv});var Ra=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${s_})`}};function Gd(t){return t instanceof Ra?t.changingThisBreaksApplicationSecurity:t}function hv(t,e){let n=hS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${s_})`)}return n===e}function hS(t){return t instanceof Ra&&t.getTypeName()||null}var fS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fv(t){return t=String(t),t.match(fS)?t:"unsafe:"+t}var Kd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kd||{});function pv(t){let e=pS();return e?e.sanitize(Kd.URL,t)||"":hv(t,"URL")?Gd(t):fv(Ud(t))}function pS(){let t=ae();return t&&t[Qt].sanitizer}var gv=new Map,gS=0;function mS(){return gS++}function yS(t){gv.set(t[Ba],t)}function _S(t){gv.delete(t[Ba])}var By="__ngContext__";function Zn(t,e){Qr(e)?(t[By]=e[Ba],yS(e)):t[By]=e}function mv(t){return t instanceof Function?t():t}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),vS;function Qd(t,e){return vS(t,e)}function Kr(t,e,n,r,i){if(r!=null){let s,o=!1;en(r)?s=r:Qr(r)&&(o=!0,r=r[Xt]);let a=Zt(r);t===0&&n!==null?i==null?wv(e,n,a):Na(e,n,a,i||null,!0):t===1&&n!==null?Na(e,n,a,i||null,!0):t===2?LS(e,a,o):t===3&&e.destroyNode(a),s!=null&&VS(e,t,s,n,i)}}function wS(t,e){return t.createText(e)}function IS(t,e,n){t.setValue(e,n)}function yv(t,e,n){return t.createElement(e,n)}function ES(t,e){_v(t,e),e[Xt]=null,e[mt]=null}function TS(t,e,n,r,i,s){r[Xt]=i,r[mt]=e,Za(t,r,n,1,i,s)}function _v(t,e){Za(t,e,e[$e],2,null,null)}function CS(t){let e=t[ns];if(!e)return Ll(t[P],t);for(;e;){let n=null;if(Qr(e))n=e[ns];else{let r=e[xe];r&&(n=r)}if(!n){for(;e&&!e[ft]&&e!==t;)Qr(e)&&Ll(e[P],e),e=e[Ce];e===null&&(e=t),Qr(e)&&Ll(e[P],e),n=e&&e[ft]}e=n}}function DS(t,e,n,r){let i=xe+r,s=n.length;r>0&&(n[i-1][ft]=e),r<s-xe?(e[ft]=n[i],M_(n,xe+r,e)):(n.push(e),e[ft]=null),e[Ce]=n;let o=e[ja];o!==null&&n!==o&&bS(o,e);let a=e[Jr];a!==null&&a.insertView(t),Hl(e),e[I]|=128}function bS(t,e){let n=t[Ea],i=e[Ce][Ce][pt];e[pt]!==i&&(t[I]|=Dd.HasTransplantedViews),n===null?t[Ea]=[e]:n.push(e)}function vv(t,e){let n=t[Ea],r=n.indexOf(e);n.splice(r,1)}function us(t,e){if(t.length<=xe)return;let n=xe+e,r=t[n];if(r){let i=r[ja];i!==null&&i!==t&&vv(i,r),e>0&&(t[n-1][ft]=r[ft]);let s=Ca(t,xe+e);ES(r[P],r);let o=s[Jr];o!==null&&o.detachView(s[P]),r[Ce]=null,r[ft]=null,r[I]&=-129}return r}function Ya(t,e){if(!(e[I]&256)){let n=e[$e];n.destroyNode&&Za(t,e,n,3,null,null),CS(e)}}function Ll(t,e){if(!(e[I]&256)){e[I]&=-129,e[I]|=256,e[Kn]&&Gm(e[Kn]),AS(t,e),SS(t,e),e[P].type===1&&e[$e].destroy();let n=e[ja];if(n!==null&&en(e[Ce])){n!==e[Ce]&&vv(n,e);let r=e[Jr];r!==null&&r.detachView(t)}_S(e)}}function SS(t,e){let n=t.cleanup,r=e[Ry];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ry]=null);let i=e[Ji];if(i!==null){e[Ji]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function AS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof as)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];vn(4,a,c);try{c.call(a)}finally{vn(5,a,c)}}else{vn(4,i,s);try{s.call(i)}finally{vn(5,i,s)}}}}}function RS(t,e,n){return NS(t,e.parent,n)}function NS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Xt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Nt.None||s===Nt.Emulated)return null}return xt(r,n)}}function Na(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wv(t,e,n){t.appendChild(e,n)}function $y(t,e,n,r,i){r!==null?Na(t,e,n,r,i):wv(t,e,n)}function xS(t,e,n,r){t.removeChild(e,n,r)}function Yd(t,e){return t.parentNode(e)}function PS(t,e){return t.nextSibling(e)}function MS(t,e,n){return OS(t,e,n)}function kS(t,e,n){return t.type&40?xt(t,n):null}var OS=kS,Hy;function Zd(t,e,n,r){let i=RS(t,r,e),s=e[$e],o=r.parent||e[mt],a=MS(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$y(s,i,n[c],a,!1);else $y(s,i,n,a,!1);Hy!==void 0&&Hy(s,r,e,n,i)}function _a(t,e){if(e!==null){let n=e.type;if(n&3)return xt(e,t);if(n&4)return nd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return _a(t,r);{let i=t[e.index];return en(i)?nd(-1,i):Zt(i)}}else{if(n&32)return Qd(e,t)()||Zt(t[e.index]);{let r=Iv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=is(t[pt]);return _a(i,r)}else return _a(t,e.next)}}}return null}function Iv(t,e){if(e!==null){let r=t[pt][mt],i=e.projection;return r.projection[i]}return null}function nd(t,e){let n=xe+t+1;if(n<e.length){let r=e[n],i=r[P].firstChild;if(i!==null)return _a(r,i)}return e[Qn]}function LS(t,e,n){let r=Yd(t,e);r&&xS(t,r,e,n)}function Jd(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Zn(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Jd(t,e,n.child,r,i,s,!1),Kr(e,t,i,a,s);else if(c&32){let u=Qd(n,r),l;for(;l=u();)Kr(e,t,i,l,s);Kr(e,t,i,a,s)}else c&16?FS(t,e,r,n,i,s):Kr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Za(t,e,n,r,i,s){Jd(n,r,t.firstChild,e,i,s,!1)}function FS(t,e,n,r,i,s){let o=n[pt],c=o[mt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Kr(e,t,i,l,s)}else{let u=c,l=o[Ce];k_(r)&&(u.flags|=128),Jd(t,e,u,l,i,s,!0)}}function VS(t,e,n,r,i){let s=n[Qn],o=Zt(n);s!==o&&Kr(e,t,r,s,i);for(let a=xe;a<n.length;a++){let c=n[a];Za(c[P],c,t,e,r,s)}}function US(t,e,n){t.setAttribute(e,"style",n)}function Ev(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Tv(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&$l(t,e,r),i!==null&&Ev(t,e,i),s!==null&&US(t,e,s)}var _s={};function Ja(t=1){Cv(ii(),ae(),Ha()+t,!1)}function Cv(t,e,n,r){if(!r)if((e[I]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ma(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ya(e,s,0,n)}Yn(n)}function Xd(t,e=N.Default){let n=ae();if(n===null)return x(t,e);let r=Tn();return ov(r,n,Ze(t),e)}function Dv(t,e,n,r,i,s){let o=Ne(null);try{let a=null;i&wn.SignalBased&&(a=e[r][Hm]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&wn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):K_(e,a,r,s)}finally{Ne(o)}}function jS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yn(~i);else{let s=i,o=n[++r],a=n[++r];ob(o,s);let c=e[s];a(2,c)}}}finally{Yn(-1)}}function Xa(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Xt]=i,d[I]=r|4|128|8|64,(u!==null||t&&t[I]&2048)&&(d[I]|=2048),I_(d),d[Ce]=d[ps]=t,d[Je]=n,d[Qt]=o||t&&t[Qt],d[$e]=a||t&&t[$e],d[Zr]=c||t&&t[Zr]||null,d[mt]=s,d[Ba]=mS(),d[ts]=l,d[m_]=u,d[pt]=e.type==2?t[pt]:d,d}function ec(t,e,n,r,i){let s=t.data[e];if(s===null)s=BS(t,e,n,r,i),sb()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=nb();s.injectorIndex=o===null?-1:o.injectorIndex}return ms(s,!0),s}function BS(t,e,n,r,i){let s=T_(),o=C_(),a=o?s:s&&s.parent,c=t.data[e]=WS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function bv(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Sv(t,e,n,r,i){let s=Ha(),o=r&2;try{Yn(-1),o&&e.length>Yt&&Cv(t,e,Yt,!1),vn(o?2:0,i),n(r,i)}finally{Yn(s),vn(o?3:1,i)}}function Av(t,e,n){if(__(e)){let r=Ne(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ne(r)}}}function Rv(t,e,n){E_()&&(XS(t,e,n,xt(n,e)),(n.flags&64)===64&&kv(t,e,n))}function Nv(t,e,n=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function xv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=eh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function eh(t,e,n,r,i,s,o,a,c,u,l){let d=Yt+r,h=d+i,f=$S(d,h),g=typeof u=="function"?u():u;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function $S(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_s);return n}function HS(t,e,n,r){let s=r.get(dS,dv)||n===Nt.ShadowDom,o=t.selectRootElement(e,s);return qS(o),o}function qS(t){zS(t)}var zS=()=>null;function WS(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return XD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qy(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=wn.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?zy(r,n,u,a,c):zy(r,n,u,a)}return r}function zy(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function GS(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=qy(0,d.inputs,l,c,f),u=qy(1,d.outputs,l,u,g);let w=c!==null&&o!==null&&!u_(e)?cA(c,l,o):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function KS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function QS(t,e,n,r,i,s,o,a){let c=xt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(th(t,n,l,r,i),$a(e)&&YS(n,e.index)):e.type&3?(r=KS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function YS(t,e){let n=ri(e,t);n[I]&16||(n[I]|=64)}function Pv(t,e,n,r){if(E_()){let i=r===null?null:{"":-1},s=tA(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Mv(t,e,n,o,i,a),i&&nA(n,r,i)}n.mergedAttrs=Td(n.mergedAttrs,n.attrs)}function Mv(t,e,n,r,i,s){for(let u=0;u<r.length;u++)iS(nv(n,e),t,r[u].type);iA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=bv(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Td(n.mergedAttrs,l.hostAttrs),sA(t,n,e,c,l),rA(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}GS(t,n,s)}function ZS(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;JS(o)!=a&&o.push(a),o.push(n,r,s)}}function JS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function XS(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;$a(n)&&oA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||nv(n,e),Zn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=cs(e,t,a,n);if(Zn(u,e),o!==null&&aA(e,a-i,u,c,n,o),gs(c)){let l=ri(n.index,e);l[Je]=cs(e,t,a,n)}}}function kv(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ab();try{Yn(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];ql(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&eA(c,u)}}finally{Yn(-1),ql(o)}}function eA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(MD(e,o.selectors,!1))if(r||(r=[]),gs(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;rd(t,e,c)}else r.unshift(o),rd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function rd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function nA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new T(-301,!1);r.push(e[i],s)}}}function rA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gs(e)&&(n[""]=t)}}function iA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Xr(i.type,!0)),o=new as(s,gs(i),Xd);t.blueprint[r]=o,n[r]=o,ZS(t,e,r,bv(t,n,i.hostVars,_s),i)}function oA(t,e,n){let r=xt(e,t),i=xv(n),s=t[Qt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=tc(t,Xa(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function aA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Dv(r,n,c,u,l,d)}}function cA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Ov(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Lv(t,e){let n=t.contentQueries;if(n!==null){let r=Ne(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];b_(s),a.contentQueries(2,e[o],o)}}}finally{Ne(r)}}}function tc(t,e){return t[ns]?t[Ny][ft]=e:t[ns]=e,t[Ny]=e,e}function id(t,e,n){b_(0);let r=Ne(null);try{e(t,n)}finally{Ne(r)}}function uA(t,e){let n=t[Zr],r=n?n.get(Jt,null):null;r&&r.handleError(e)}function th(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Dv(l,u,r,a,c,i)}}function lA(t,e,n){let r=WD(e,t);IS(t[$e],r,n)}function dA(t,e){let n=ri(e,t),r=n[P];hA(r,n);let i=n[Xt];i!==null&&n[ts]===null&&(n[ts]=Bd(i,n[Zr])),nh(r,n,n[Je])}function hA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function nh(t,e,n){Nd(e);try{let r=t.viewQuery;r!==null&&id(1,r,n);let i=t.template;i!==null&&Sv(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Jr]?.finishViewCreation(t),t.staticContentQueries&&Lv(t,e),t.staticViewQueries&&id(2,t.viewQuery,n);let s=t.components;s!==null&&fA(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[I]&=-5,xd()}}function fA(t,e){for(let n=0;n<e.length;n++)dA(t,e[n])}function Fv(t,e,n,r){let i=e.tView,o=t[I]&4096?4096:16,a=Xa(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[ja]=c;let u=t[Jr];return u!==null&&(a[Jr]=u.createEmbeddedView(i)),nh(i,a,n),a}function pA(t,e){let n=xe+e;if(n<t.length)return t[n]}function xa(t,e){return!e||e.firstChild===null||k_(t)}function rh(t,e,n,r=!0){let i=e[P];if(DS(i,e,t,n),r){let o=nd(n,t),a=e[$e],c=Yd(a,t[Qn]);c!==null&&TS(i,t[mt],a,e,c,o)}let s=e[ts];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function gA(t,e){let n=us(t,e);return n!==void 0&&Ya(n[P],n),n}function Pa(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Zt(s)),en(s)&&mA(s,r);let o=n.type;if(o&8)Pa(t,e,n.child,r);else if(o&32){let a=Qd(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Iv(e,n);if(Array.isArray(a))r.push(...a);else{let c=is(e[pt]);Pa(c[P],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mA(t,e){for(let n=xe;n<t.length;n++){let r=t[n],i=r[P].firstChild;i!==null&&Pa(r[P],r,i,e)}t[Qn]!==t[Xt]&&e.push(t[Qn])}var Vv=[];function yA(t){return t[Kn]??_A(t)}function _A(t){let e=Vv.pop()??Object.create(wA);return e.lView=t,e}function vA(t){t.lView[Kn]!==t&&(t.lView=null,Vv.push(t))}var wA=te(v({},qm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rs(t.lView)},consumerOnSignalRead(){this.lView[Kn]=this}});function Uv(t){return Bv(t[ns])}function jv(t){return Bv(t[ft])}function Bv(t){for(;t!==null&&!en(t);)t=t[ft];return t}var $v=100;function Hv(t,e=!0,n=0){let r=t[Qt],i=r.rendererFactory,s=!1;s||i.begin?.();try{IA(t,n)}catch(o){throw e&&uA(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function IA(t,e){sd(t,e);let n=0;for(;Ad(t);){if(n===$v)throw new T(103,!1);n++,sd(t,1)}}function EA(t,e,n,r){let i=e[I];if((i&256)===256)return;let s=!1;!s&&e[Qt].inlineEffectRunner?.flush(),Nd(e);let o=null,a=null;!s&&TA(t)&&(a=yA(e),o=zm(a));try{I_(e),ib(t.bindingStartIndex),n!==null&&Sv(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&ma(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ya(e,d,0,null),Ml(e,0)}if(CA(e),qv(e,0),t.contentQueries!==null&&Lv(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&ma(e,d)}else{let d=t.contentHooks;d!==null&&ya(e,d,1),Ml(e,1)}jS(t,e);let u=t.components;u!==null&&Wv(e,u,0);let l=t.viewQuery;if(l!==null&&id(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&ma(e,d)}else{let d=t.viewHooks;d!==null&&ya(e,d,2),Ml(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xl]){for(let d of e[xl])d();e[xl]=null}s||(e[I]&=-73)}catch(c){throw rs(e),c}finally{a!==null&&(Wm(a,o),vA(a)),xd()}}function TA(t){return t.type!==2}function qv(t,e){for(let n=Uv(t);n!==null;n=jv(n))for(let r=xe;r<n.length;r++){let i=n[r];zv(i,e)}}function CA(t){for(let e=Uv(t);e!==null;e=jv(e)){if(!(e[I]&Dd.HasTransplantedViews))continue;let n=e[Ea];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ce];KD(i)}}}function DA(t,e,n){let r=ri(e,t);zv(r,n)}function zv(t,e){Sd(t)&&sd(t,e)}function sd(t,e){let r=t[P],i=t[I],s=t[Kn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&al(s)),s&&(s.dirty=!1),t[I]&=-9217,o)EA(r,t,r.template,t[Je]);else if(i&8192){qv(t,1);let a=r.components;a!==null&&Wv(t,a,1)}}function Wv(t,e,n){for(let r=0;r<e.length;r++)DA(t,e[r],n)}function Gv(t){for(t[Qt].changeDetectionScheduler?.notify();t;){t[I]|=64;let e=is(t);if($D(t)&&!e)return t;t=e}return null}var ti=class{get rootNodes(){let e=this._lView,n=e[P];return Pa(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return(this._lView[I]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ce];if(en(e)){let n=e[Ia],r=n?n.indexOf(this):-1;r>-1&&(us(e,r),Ca(n,r))}this._attachedToViewContainer=!1}Ya(this._lView[P],this._lView)}onDestroy(e){QD(this._lView,e)}markForCheck(){Gv(this._cdRefInjectingView||this._lView)}detach(){this._lView[I]&=-129}reattach(){Hl(this._lView),this._lView[I]|=128}detectChanges(){this._lView[I]|=1024,Hv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_v(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e,Hl(this._lView)}};var a$=new RegExp(`^(\\d+)*(${xb}|${Nb})*(.*)`);var bA=()=>null;function Ma(t,e){return bA(t,e)}var od=class{},ad=class{},ka=class{};function SA(t){let e=Error(`No component factory found for ${Be(t)}.`);return e[AA]=t,e}var AA="ngComponent";var cd=class{resolveComponentFactory(e){throw SA(e)}},nc=(()=>{let e=class e{};e.NULL=new cd;let t=e;return t})(),ls=class{};var RA=(()=>{let e=class e{};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Fl={};var rc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NA;let t=e;return t})();function NA(t){return xA(Tn(),ae(),(t&16)===16)}function xA(t,e,n){if($a(t)&&!n){let r=ri(t.index,e);return new ti(r,r)}else if(t.type&47){let r=e[pt];return new ti(r,e)}return null}var Wy=new Set;function ih(t){Wy.has(t)||(Wy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Gy(...t){}function PA(){let t=typeof Yi.requestAnimationFrame=="function",e=Yi[t?"requestAnimationFrame":"setTimeout"],n=Yi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=PA().nativeRequestAnimationFrame,OA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,MA,Gy,Gy);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},MA={};function sh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kA(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ud(t),t.isCheckStableRunning=!0,sh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ud(t))}function OA(t){let e=()=>{kA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(LA(a))return n.invokeTask(i,s,o,a);try{return Ky(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qy(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Ky(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qy(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ud(t),sh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ud(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ky(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qy(t){t._nesting--,sh(t)}function LA(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Kv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ld(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Ty(i,a);else if(s==2){let c=a,u=e[++o];r=Ty(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Oa=class extends nc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gn(e);return new ds(n,this.ngModule)}};function Yy(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function FA(t){let e=t.toLowerCase();return e==="svg"?w_:e==="math"?HD:null}var dd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Wa(r);let i=this.injector.get(e,Fl,r);return i!==Fl||n===Fl?i:this.parentInjector.get(e,n,r)}},ds=class extends ka{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Yy(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Yy(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Xe?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new dd(e,s):e,a=o.get(ls,null);if(a===null)throw new T(407,!1);let c=o.get(RA,null),u=o.get(Kv,null),l=o.get(od,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?HS(h,r,this.componentDef.encapsulation,o):yv(h,f,FA(f)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let j=null;g!==null&&(j=Bd(g,o,!0));let q=eh(0,null,null,1,0,null,null,null,null,null,null),_e=Xa(null,q,null,w,null,null,d,h,o,null,j);Nd(_e);let Dt,Wt;try{let at=this.componentDef,bt,xr=null;at.findHostDirectiveDefs?(bt=[],xr=new Map,at.findHostDirectiveDefs(at,bt,xr),bt.push(at)):bt=[at];let sl=VA(_e,g),Wi=UA(sl,g,at,bt,_e,d,h);Wt=bd(q,Yt),g&&$A(h,at,g,r),n!==void 0&&HA(Wt,this.ngContentSelectors,n),Dt=BA(Wi,at,bt,xr,_e,[qA]),nh(q,_e,null)}finally{xd()}return new hd(this.componentType,Dt,kd(Wt,_e),_e,Wt)}},hd=class extends ad{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ti(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;th(s[P],s,i,e,n),this.previousInputValues.set(e,n);let o=ri(this._tNode.index,s);Gv(o)}}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VA(t,e){let n=t[P],r=Yt;return t[r]=e,ec(n,r,2,"#host",null)}function UA(t,e,n,r,i,s,o){let a=i[P];jA(r,t,e,o);let c=null;e!==null&&(c=Bd(e,i[Zr]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Xa(i,xv(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&rd(a,t,r.length-1),tc(i,d),i[t.index]=d}function jA(t,e,n,r){for(let i of t)e.mergedAttrs=Td(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ld(e,e.mergedAttrs,!0),n!==null&&Tv(r,n,e))}function BA(t,e,n,r,i,s){let o=Tn(),a=i[P],c=xt(o,i);Mv(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=cs(i,a,d,o);Zn(h,i)}kv(a,i,o),c&&Zn(c,i);let u=cs(i,a,o.directiveStart+o.componentOffset,o);if(t[Je]=i[Je]=u,s!==null)for(let l of s)l(u,e);return Av(a,o,t),u}function $A(t,e,n,r){if(r)$l(t,n,["ng-version","17.2.1"]);else{let{attrs:i,classes:s}=VD(e.selectors[0]);i&&$l(t,n,i),s&&s.length>0&&Ev(t,n,s.join(" "))}}function HA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function qA(){let t=Tn();qd(ae()[P],t)}var ic=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zA;let t=e;return t})();function zA(){let t=Tn();return GA(t,ae())}var WA=ic,Qv=class extends WA{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return kd(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){let e=zd(this._hostTNode,this._hostLView);if(X_(e)){let n=Aa(e,this._hostLView),r=Sa(e),i=n[P].data[r+8];return new Wn(i,n)}else return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Zy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ma(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,xa(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!zb(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new ds(Gn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let w=(o?u:this.parentInjector).get(Xe,null);w&&(s=w)}let l=Gn(c.componentType??{}),d=Ma(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,xa(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ce],u=new Qv(c,c[mt],c[Ce]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return rh(o,i,s,r),e.attachToViewContainerRef(),M_(Vl(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Zy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=us(this._lContainer,n);r&&(Ca(Vl(this._lContainer),n),Ya(r[P],r))}detach(e){let n=this._adjustIndex(e,-1),r=us(this._lContainer,n);return r&&Ca(Vl(this._lContainer),n)!=null?new ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Zy(t){return t[Ia]}function Vl(t){return t[Ia]||(t[Ia]=[])}function GA(t,e){let n,r=e[t.index];return en(r)?n=r:(n=Ov(r,e,null,t),e[t.index]=n,tc(e,n)),QA(n,e,t,r),new Qv(n,t,e)}function KA(t,e){let n=t[$e],r=n.createComment(""),i=xt(e,t),s=Yd(n,i);return Na(n,s,r,PS(n,i),!1),r}var QA=JA,YA=()=>!1;function ZA(t,e,n){return YA(t,e,n)}function JA(t,e,n,r){if(t[Qn])return;let i;n.type&8?i=Zt(r):i=KA(e,n),t[Qn]=i}var In=class{},hs=class{};var fd=class extends In{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Oa(this);let i=f_(e);this._bootstrapComponents=mv(i.bootstrap),this._r3Injector=uv(e,n,[{provide:In,useValue:this},{provide:nc,useValue:this.componentFactoryResolver},...r],Be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pd=class extends hs{constructor(e){super(),this.moduleType=e}create(e){return new fd(this.moduleType,e,[])}};var La=class extends In{constructor(e){super(),this.componentFactoryResolver=new Oa(this),this.instance=null;let n=new os([...e.providers,{provide:In,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],e.parent||Hd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function oh(t,e,n=null){return new La({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var sc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yv(t,e,n){return t[e]=n}function Zv(t,e){return t[e]}function ni(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Jy(t,e,n,r){let i=ni(t,e,n);return ni(t,e+1,r)||i}function XA(t,e,n,r,i,s){let o=Jy(t,e,n,r);return Jy(t,e+2,i,s)||o}function eR(t,e,n,r,i,s,o,a,c){let u=e.consts,l=ec(e,t,4,o||null,Ta(u,a));Pv(e,n,l,Ta(u,c)),qd(e,l);let d=l.tView=eh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function gd(t,e,n,r,i,s,o,a){let c=ae(),u=ii(),l=t+Yt,d=u.firstCreatePass?eR(l,u,c,e,n,r,i,s,o):u.data[l];ms(d,!1);let h=tR(u,c,d,t);Pd()&&Zd(u,c,h,d),Zn(h,c);let f=Ov(h,c,h,d);return c[l]=f,tc(c,f),ZA(f,d,c),v_(d)&&Rv(u,c,d),o!=null&&Nv(c,d,a),gd}var tR=nR;function nR(t,e,n,r){return Md(!0),e[$e].createComment("")}function rR(t,e,n,r){return ni(t,Rd(),n)?e+Ud(n)+r:_s}function ah(t,e,n){let r=ae(),i=Rd();if(ni(r,i,e)){let s=ii(),o=ub();QS(s,o,r,t,e,r[$e],n,!1)}return ah}function Xy(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";th(t,n,s[o],o,r)}var md=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Ul(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function iR(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=Ul(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=Ul(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),w=n(o,d),j=n(s,u);if(Object.is(j,w)){let q=n(a,h);Object.is(q,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Fa,i??=t_(t,s,o,n),yd(t,r,s,j))t.updateValue(s,u),s++,o++;else if(i.has(j))r.set(g,t.detach(s)),o--;else{let q=t.create(s,e[s]);t.attach(s,q),s++,o++}}for(;s<=a;)e_(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=Ul(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Fa,i??=t_(t,s,o,n);let h=n(s,l);if(yd(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)e_(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function yd(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function e_(t,e,n,r,i){if(yd(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function t_(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Fa=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var _d=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-xe}};var vd=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Jv(t,e,n,r,i,s,o,a,c,u,l,d,h){ih("NgControlFlow");let f=c!==void 0,g=ae(),w=a?o.bind(g[pt][Je]):o,j=new vd(f,w);g[Yt+t]=j,gd(t+1,e,n,r,i,s),f&&gd(t+2,c,u,l,d,h)}var wd=class extends md{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-xe}at(e){return this.getLView(e)[Je].$implicit}attach(e,n){let r=n[ts];this.needsIndexUpdate||=e!==this.length,rh(this.lContainer,n,e,xa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,sR(this.lContainer,e)}create(e,n){let r=Ma(this.lContainer,this.templateTNode.tView.ssrId);return Fv(this.hostLView,this.templateTNode,new _d(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Ya(e[P],e)}updateValue(e,n){this.getLView(e)[Je].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Je].$index=e}getLView(e){return oR(this.lContainer,e)}};function Xv(t){let e=Ne(null),n=Ha();try{let r=ae(),i=r[P],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=n_(r,a),u=r_(i,a);s.liveCollection=new wd(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(iR(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Rd(),c=o.length===0;if(ni(r,a,c)){let u=n+2,l=n_(r,u);if(c){let d=r_(i,u),h=Ma(l,d.tView.ssrId),f=Fv(r,d,void 0,{dehydratedView:h});rh(l,f,0,xa(d,h))}else gA(l,0)}}}finally{Ne(e)}}function n_(t,e){return t[e]}function sR(t,e){return us(t,e)}function oR(t,e){return pA(t,e)}function r_(t,e){return bd(t,e)}function aR(t,e,n,r,i,s){let o=e.consts,a=Ta(o,i),c=ec(e,t,2,r,a);return Pv(e,n,c,Ta(o,s)),c.attrs!==null&&ld(c,c.attrs,!1),c.mergedAttrs!==null&&ld(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ue(t,e,n,r){let i=ae(),s=ii(),o=Yt+t,a=i[$e],c=s.firstCreatePass?aR(o,s,i,e,n,r):s.data[o],u=cR(s,i,c,a,e,t);i[o]=u;let l=v_(c);return ms(c,!0),Tv(a,u,c),(c.flags&32)!==32&&Pd()&&Zd(s,i,u,c),YD()===0&&Zn(u,i),ZD(),l&&(Rv(s,i,c),Av(s,c,i)),r!==null&&Nv(i,c),ue}function Pe(){let t=Tn();C_()?rb():(t=t.parent,ms(t,!1));let e=t;eb(e)&&tb(),JD();let n=ii();return n.firstCreatePass&&(qd(n,t),__(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Jb(e)&&Xy(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Xb(e)&&Xy(n,e,ae(),e.stylesWithoutHost,!1),Pe}function Oe(t,e,n,r){return ue(t,e,n,r),Pe(),Oe}var cR=(t,e,n,r,i,s)=>(Md(!0),yv(r,i,db()));var Va="en-US";var uR=Va;function lR(t){typeof t=="string"&&(uR=t.toLowerCase().replace(/_/g,"-"))}function oc(t,e=""){let n=ae(),r=ii(),i=t+Yt,s=r.firstCreatePass?ec(r,i,1,e,null):r.data[i],o=dR(r,n,s,e,t);n[i]=o,Pd()&&Zd(r,n,o,s),ms(s,!1)}var dR=(t,e,n,r,i)=>(Md(!0),wS(e[$e],r));function ch(t){return ac("",t,""),ch}function ac(t,e,n){let r=ae(),i=rR(r,t,e,n);return i!==_s&&lA(r,Ha(),i),ac}var hR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=z_(!1,r.type),s=i.length>0?oh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(x(Xe))});let t=e;return t})();function cc(t){ih("NgStandalone"),t.getStandaloneInjector=e=>e.get(hR).getOrCreateStandaloneInjector(t)}function ai(t,e,n){let r=D_()+t,i=ae();return i[r]===_s?Yv(i,r,n?e.call(n):e()):Zv(i,r)}function ew(t,e,n,r,i,s,o,a){let c=D_()+t,u=ae(),l=XA(u,c,n,r,i,s);return ni(u,c+4,o)||l?Yv(u,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Zv(u,c+5)}var En=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tw=new En("17.2.1"),uc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var nw=new A("");function vs(t){return!!t&&typeof t.then=="function"}function rw(t){return!!t&&typeof t.subscribe=="function"}var iw=new A(""),sw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(iw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(vs(o))r.push(o);else if(rw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uh=new A("");function fR(){Km(()=>{throw new T(600,!1)})}function pR(t){return t.isBoundToModule}function gR(t,e,n){try{let r=n();return vs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ws=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(lv),this.afterRenderEffectManager=_(Kv),this.componentTypes=[],this.components=[],this.isStable=_(sc).hasPendingTasks.pipe(L(r=>!r)),this._injector=_(Xe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ka;if(!this._injector.get(sw).done){let f=!s&&h_(r),g=!1;throw new T(405,g)}let a;s?a=r:a=this._injector.get(nc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=pR(a)?void 0:this._injector.get(In),u=i||a.selector,l=a.create(He.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(nw,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),jl(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(r===$v)throw new T(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:o}of this._views)!i&&!i_(s)||this.detectChangesInView(s,o,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>i_(i)))}detectChangesInView(r,i,s){let o;s?(o=0,r[I]|=1024):r[I]&64?o=0:o=1,Hv(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;jl(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(uh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>jl(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function i_(t){return Ad(t)}var Id=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},lh=(()=>{let e=class e{compileModuleSync(r){return new pd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=f_(r),o=mv(s.declarations).reduce((a,c)=>{let u=Gn(c);return u&&a.push(new ds(u)),a},[]);return new Id(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mR=(()=>{let e=class e{constructor(){this.zone=_(z),this.applicationRef=_(ws)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yR(t){return[{provide:z,useFactory:t},{provide:ei,multi:!0,useFactory:()=>{let e=_(mR,{optional:!0});return()=>e.initialize()}},{provide:ei,multi:!0,useFactory:()=>{let e=_(IR);return()=>{e.initialize()}}},{provide:lv,useFactory:_R}]}function _R(){let t=_(z),e=_(Jt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function vR(t){let e=yR(()=>new z(wR(t)));return Ga([[],e])}function wR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var IR=(()=>{let e=class e{constructor(){this.subscription=new re,this.initialized=!1,this.zone=_(z),this.pendingTasks=_(sc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ER(){return typeof $localize<"u"&&$localize.locale||Va}var dh=new A("",{providedIn:"root",factory:()=>_(dh,N.Optional|N.SkipSelf)||ER()});var ow=new A("");var va=null;function TR(t=[],e){return He.create({name:e,providers:[{provide:Ka,useValue:"platform"},{provide:ow,useValue:new Set([()=>va=null])},...t]})}function CR(t=[]){if(va)return va;let e=TR(t);return va=e,fR(),DR(e),e}function DR(t){t.get(Fd,null)?.forEach(n=>n())}function aw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=CR(r),s=[vR(),...n||[]],a=new La({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(z);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Jt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(ow);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),gR(u,c,()=>{let f=a.get(sw);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(dh,Va);lR(g||Va);let w=a.get(ws);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}var dw=null;function ci(){return dw}function hw(t){dw??=t}var lc=class{};var et=new A(""),fw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>_(RR),providedIn:"platform"});let t=e;return t})();var RR=(()=>{let e=class e extends fw{constructor(){super(),this._doc=_(et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ci().getBaseHref(this._doc)}onPopState(r){let i=ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function pw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function cw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function er(t){return t&&t[0]!=="?"?"?"+t:t}var hc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>_(gw),providedIn:"root"});let t=e;return t})(),NR=new A(""),gw=(()=>{let e=class e extends hc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+er(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+er(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+er(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(x(fw),x(NR,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Is=(()=>{let e=class e{constructor(r){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=MR(cw(uw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+er(i))}normalize(r){return e.stripTrailingSlash(PR(this._basePath,uw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+er(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+er(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=er,e.joinWithSlash=pw,e.stripTrailingSlash=cw,e.\u0275fac=function(i){return new(i||e)(x(hc))},e.\u0275prov=D({token:e,factory:()=>xR(),providedIn:"root"});let t=e;return t})();function xR(){return new Is(x(hc))}function PR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function uw(t){return t.replace(/\/index.html$/,"")}function MR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function mw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var yw="browser",kR="server";function hh(t){return t===kR}var dc=class{};var gh=class extends lc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mh=class t extends gh{static makeCurrent(){hw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=OR();return n==null?null:LR(n)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mw(document.cookie,e)}},Es=null;function OR(){return Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null}function LR(t){return new URL(t,document.baseURI).pathname}var FR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),yh=new A(""),Iw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(x(yh),x(z))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),fc=class{constructor(e){this._doc=e}},fh="ng-app-id",Ew=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${fh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(fh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(fh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(x(et),x(Ld),x(Vd,8),x(Cn))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vh=/%COMP%/g,Tw="%COMP%",VR=`_nghost-${Tw}`,UR=`_ngcontent-${Tw}`,jR=!0,BR=new A("",{providedIn:"root",factory:()=>jR});function $R(t){return UR.replace(vh,t)}function HR(t){return VR.replace(vh,t)}function Cw(t,e){return e.map(n=>n.replace(vh,t))}var _w=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=hh(c),this.defaultRenderer=new Ts(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Nt.ShadowDom&&(i=te(v({},i),{encapsulation:Nt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof pc?s.applyToHost(r):s instanceof Cs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Nt.Emulated:o=new pc(u,l,i,this.appId,d,a,c,h);break;case Nt.ShadowDom:return new _h(u,l,r,i,a,c,this.nonce,h);default:o=new Cs(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(x(Iw),x(Ew),x(Ld),x(BR),x(et),x(Cn),x(z),x(Vd))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),Ts=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ph[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ph[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ph[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,r,i&Xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ci().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _h=class extends Ts{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Cw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cs=class extends Ts{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Cw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pc=class extends Cs{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=$R(u),this.hostAttr=HR(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qR=(()=>{let e=class e extends fc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(x(et))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),ww=["alt","control","meta","shift"],zR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GR=(()=>{let e=class e extends fc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ci().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ww.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=zR[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ww.forEach(a=>{if(a!==s){let c=WR[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(x(et))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function Dw(t,e){return aw(v({rootComponent:t},KR(e)))}function KR(t){return{appProviders:[...XR,...t?.providers??[]],platformProviders:JR}}function QR(){mh.makeCurrent()}function YR(){return new Jt}function ZR(){return O_(document),document}var JR=[{provide:Cn,useValue:yw},{provide:Fd,useValue:QR,multi:!0},{provide:et,useFactory:ZR,deps:[]}];var XR=[{provide:Ka,useValue:"root"},{provide:Jt,useFactory:YR,deps:[]},{provide:yh,useClass:qR,multi:!0,deps:[et,z,Cn]},{provide:yh,useClass:GR,multi:!0,deps:[et]},_w,Ew,Iw,{provide:ls,useExisting:_w},{provide:dc,useClass:FR,deps:[]},[]];var bw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(x(et))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var R="primary",Us=Symbol("RouteTitle"),Ch=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fi(t){return new Ch(t)}function t1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function n1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pt(t[n],e[n]))return!1;return!0}function Pt(t,e){let n=t?Dh(t):void 0,r=e?Dh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Pw(t[i],e[i]))return!1;return!0}function Dh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Pw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Mw(t){return t.length>0?t[t.length-1]:null}function Sn(t){return Tl(t)?t:vs(t)?se(Promise.resolve(t)):S(t)}var r1={exact:Ow,subset:Lw},kw={exact:i1,subset:s1,ignored:()=>!0};function Sw(t,e,n){return r1[n.paths](t.root,e.root,n.matrixParams)&&kw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function i1(t,e){return Pt(t,e)}function Ow(t,e,n){if(!nr(t.segments,e.segments)||!yc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ow(t.children[r],e.children[r],n))return!1;return!0}function s1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Pw(t[n],e[n]))}function Lw(t,e,n){return Fw(t,e,e.segments,n)}function Fw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!nr(i,n)||e.hasChildren()||!yc(i,n,r))}else if(t.segments.length===n.length){if(!nr(t.segments,n)||!yc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Lw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!nr(t.segments,i)||!yc(t.segments,i,r)||!t.children[R]?!1:Fw(t.children[R],e,s,r)}}function yc(t,e,n){return e.every((r,i)=>kw[n](t[i].parameters,r.parameters))}var Dn=class{constructor(e=new W([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){return c1.serialize(this)}},W=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _c(this)}},tr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fi(this.parameters),this._parameterMap}toString(){return Uw(this)}};function o1(t,e){return nr(t,e)&&t.every((n,r)=>Pt(n.parameters,e[r].parameters))}function nr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function a1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===R&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==R&&(n=n.concat(e(i,r)))}),n}var Zh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>new wc,providedIn:"root"});let t=e;return t})(),wc=class{parse(e){let n=new Sh(e);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ds(e.root,!0)}`,r=d1(e.queryParams),i=typeof e.fragment=="string"?`#${u1(e.fragment)}`:"";return`${n}${r}${i}`}},c1=new wc;function _c(t){return t.segments.map(e=>Uw(e)).join("/")}function Ds(t,e){if(!t.hasChildren())return _c(t);if(e){let n=t.children[R]?Ds(t.children[R],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==R&&r.push(`${i}:${Ds(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=a1(t,(r,i)=>i===R?[Ds(t.children[R],!1)]:[`${i}:${Ds(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[R]!=null?`${_c(t)}/${n[0]}`:`${_c(t)}/(${n.join("//")})`}}function Vw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(t){return Vw(t).replace(/%3B/gi,";")}function u1(t){return encodeURI(t)}function bh(t){return Vw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vc(t){return decodeURIComponent(t)}function Aw(t){return vc(t.replace(/\+/g,"%20"))}function Uw(t){return`${bh(t.path)}${l1(t.parameters)}`}function l1(t){return Object.entries(t).map(([e,n])=>`;${bh(e)}=${bh(n)}`).join("")}function d1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gc(n)}=${gc(i)}`).join("&"):`${gc(n)}=${gc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var h1=/^[^\/()?;#]+/;function wh(t){let e=t.match(h1);return e?e[0]:""}var f1=/^[^\/()?;=#]+/;function p1(t){let e=t.match(f1);return e?e[0]:""}var g1=/^[^=?&#]+/;function m1(t){let e=t.match(g1);return e?e[0]:""}var y1=/^[^&#]+/;function _1(t){let e=t.match(y1);return e?e[0]:""}var Sh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new W([],{}):new W([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[R]=new W(e,n)),r}parseSegment(){let e=wh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new tr(vc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=p1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wh(this.remaining);i&&(r=i,this.capture(r))}e[vc(n)]=vc(r)}parseQueryParam(e){let n=m1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=_1(this.remaining);o&&(r=o,this.capture(r))}let i=Aw(n),s=Aw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=R);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[R]:new W([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}};function jw(t){return t.segments.length>0?new W([],{[R]:t}):t}function Bw(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Bw(i);if(r===R&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new W(t.segments,e);return v1(n)}function v1(t){if(t.numberOfChildren===1&&t.children[R]){let e=t.children[R];return new W(t.segments.concat(e.segments),e.children)}return t}function pi(t){return t instanceof Dn}function w1(t,e,n=null,r=null){let i=$w(t);return Hw(i,e,n,r)}function $w(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new W(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=jw(r);return e??i}function Hw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ih(i,i,i,n,r);let s=I1(e);if(s.toRoot())return Ih(i,i,new W([],{}),n,r);let o=E1(s,i,t),a=o.processChildren?As(o.segmentGroup,o.index,s.commands):zw(o.segmentGroup,o.index,s.commands);return Ih(i,o.segmentGroup,a,n,r)}function Ic(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xs(t){return typeof t=="object"&&t!=null&&t.outlets}function Ih(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=qw(t,e,n);let a=jw(Bw(o));return new Dn(a,s,i)}function qw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=qw(s,e,n)}),new W(t.segments,r)}var Ec=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ic(r[0]))throw new T(4003,!1);let i=r.find(xs);if(i&&i!==Mw(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function I1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ec(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ec(n,e,r)}var di=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function E1(t,e,n){if(t.isAbsolute)return new di(e,!0,0);if(!n)return new di(e,!1,NaN);if(n.parent===null)return new di(n,!0,0);let r=Ic(t.commands[0])?0:1,i=n.segments.length-1+r;return T1(n,i,t.numberOfDoubleDots)}function T1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new di(r,!1,i-s)}function C1(t){return xs(t[0])?t[0].outlets:{[R]:t}}function zw(t,e,n){if(t??=new W([],{}),t.segments.length===0&&t.hasChildren())return As(t,e,n);let r=D1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new W(t.segments.slice(0,r.pathIndex),{});return s.children[R]=new W(t.segments.slice(r.pathIndex),t.children),As(s,0,i)}else return r.match&&i.length===0?new W(t.segments,{}):r.match&&!t.hasChildren()?Ah(t,e,n):r.match?As(t,0,i):Ah(t,e,n)}function As(t,e,n){if(n.length===0)return new W(t.segments,{});{let r=C1(n),i={};if(Object.keys(r).some(s=>s!==R)&&t.children[R]&&t.numberOfChildren===1&&t.children[R].segments.length===0){let s=As(t.children[R],e,n);return new W(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zw(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new W(t.segments,i)}}function D1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(xs(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Nw(c,u,o))return s;r+=2}else{if(!Nw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ah(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(xs(s)){let c=b1(s.outlets);return new W(r,c)}if(i===0&&Ic(n[0])){let c=t.segments[e];r.push(new tr(c.path,Rw(n[0]))),i++;continue}let o=xs(s)?s.outlets[R]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ic(a)?(r.push(new tr(o,Rw(a))),i+=2):(r.push(new tr(o,{})),i++)}return new W(r,{})}function b1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ah(new W([],{}),0,r))}),e}function Rw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Nw(t,e,n){return t==n.path&&Pt(e,n.parameters)}var Rs="imperative",we=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(we||{}),nt=class{constructor(e,n){this.id=e,this.url=n}},Ps=class extends nt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=we.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends nt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=we.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tt||{}),Rh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Rh||{}),bn=class extends nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=we.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ir=class extends nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=we.NavigationSkipped}},Ms=class extends nt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=we.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tc=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class extends nt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=we.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ph=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mh=class extends nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kh=class{constructor(e){this.route=e,this.type=we.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oh=class{constructor(e){this.route=e,this.type=we.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lh=class{constructor(e){this.snapshot=e,this.type=we.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{constructor(e){this.snapshot=e,this.type=we.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vh=class{constructor(e){this.snapshot=e,this.type=we.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{constructor(e){this.snapshot=e,this.type=we.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ks=class{},Os=class{constructor(e){this.url=e}};var jh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rc,this.attachRef=null}},Rc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new jh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Bh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Bh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=$h(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $h(e,this._root).map(n=>n.value)}};function Bh(t,e){if(t===e.value)return e;for(let n of e.children){let r=Bh(t,n);if(r)return r}return null}function $h(t,e){if(t===e.value)return[e];for(let n of e.children){let r=$h(t,n);if(r.length)return r.unshift(e),r}return[]}var qe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function li(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Dc=class extends Cc{constructor(e,n){super(e),this.snapshot=n,Xh(this,e)}toString(){return this.snapshot.toString()}};function Ww(t){let e=S1(t),n=new ve([new tr("",{})]),r=new ve({}),i=new ve({}),s=new ve({}),o=new ve(""),a=new gi(n,r,s,o,i,R,t,e.root);return a.snapshot=e.root,new Dc(new qe(a,[]),e)}function S1(t){let e={},n={},r={},i="",s=new Ls([],e,r,i,n,R,t,null,{});return new bc("",new qe(s,[]))}var gi=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(u=>u[Us]))??S(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>fi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>fi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),i?.data),t._resolvedData)}:r={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},i&&Kw(i)&&(r.resolve[Us]=i.title),r}var Ls=class{get title(){return this.data?.[Us]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},bc=class extends Cc{constructor(e,n){super(n),this.url=e,Xh(this,n)}toString(){return Gw(this._root)}};function Xh(t,e){e.value._routerState=t,e.children.forEach(n=>Xh(t,n))}function Gw(t){let e=t.children.length>0?` { ${t.children.map(Gw).join(", ")} } `:"";return`${t.value}${e}`}function Eh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pt(e.params,n.params)||t.paramsSubject.next(n.params),n1(e.url,n.url)||t.urlSubject.next(n.url),Pt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hh(t,e){let n=Pt(t.params,e.params)&&o1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Hh(t.parent,e.parent))}function Kw(t){return typeof t.title=="string"||t.title===null}var ef=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=R,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=_(Rc),this.location=_(ic),this.changeDetector=_(rc),this.environmentInjector=_(Xe),this.inputBinder=_(tf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new qh(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Cd({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qa]});let t=e;return t})(),qh=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===Rc?this.childContexts:this.parent.get(e,n)}},tf=new A("");function A1(t,e,n){let r=Fs(t,e._root,n?n._root:void 0);return new Dc(r,e)}function Fs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=R1(t,e,n);return new qe(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fs(t,a)),o}}let r=N1(e.value),i=e.children.map(s=>Fs(t,s));return new qe(r,i)}}function R1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fs(t,r,i);return Fs(t,r)})}function N1(t){return new gi(new ve(t.url),new ve(t.params),new ve(t.queryParams),new ve(t.fragment),new ve(t.data),t.outlet,t.component,t)}var Qw="ngNavigationCancelingError";function Yw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zw(!1,tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Zw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Qw]=!0,n.cancellationCode=e,n}function x1(t){return Jw(t)&&pi(t.url)}function Jw(t){return!!t&&t[Qw]}var P1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ua({type:e,selectors:[["ng-component"]],standalone:!0,features:[cc],decls:1,vars:0,template:function(i,s){i&1&&Oe(0,"router-outlet")},dependencies:[ef],encapsulation:2});let t=e;return t})();function M1(t,e){return t.providers&&!t._injector&&(t._injector=oh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function nf(t){let e=t.children&&t.children.map(nf),n=e?te(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==R&&(n.component=P1),n}function Mt(t){return t.outlet||R}function k1(t,e){let n=t.filter(r=>Mt(r)===e);return n.push(...t.filter(r=>Mt(r)!==e)),n}function js(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var O1=(t,e,n,r)=>L(i=>(new zh(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),zh=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Eh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=li(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=li(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=li(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=li(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Uh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Eh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Eh(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=js(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Sc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hi=class{constructor(e,n){this.component=e,this.route=n}};function L1(t,e,n){let r=t._root,i=e?e._root:null;return bs(r,i,n,[r.value])}function F1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function yi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!L_(t)?t:e.get(t):r}function bs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=li(e);return t.children.forEach(o=>{V1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ns(a,n.getContext(o),i)),i}function V1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=U1(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Sc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?bs(t,e,a?a.children:null,r,i):bs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hi(a.outlet.component,o))}else o&&Ns(e,a,i),i.canActivateChecks.push(new Sc(r)),s.component?bs(t,null,a?a.children:null,r,i):bs(t,null,n,r,i);return i}function U1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nr(t.url,e.url)||!Pt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hh(t,e)||!Pt(t.queryParams,e.queryParams);case"paramsChange":default:return!Hh(t,e)}}function Ns(t,e,n){let r=li(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ns(o,e.children.getContext(s),n):Ns(o,null,n):Ns(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new hi(e.outlet.component,i)):n.canDeactivateChecks.push(new hi(null,i)):n.canDeactivateChecks.push(new hi(null,i))}function Bs(t){return typeof t=="function"}function j1(t){return typeof t=="boolean"}function B1(t){return t&&Bs(t.canLoad)}function $1(t){return t&&Bs(t.canActivate)}function H1(t){return t&&Bs(t.canActivateChild)}function q1(t){return t&&Bs(t.canDeactivate)}function z1(t){return t&&Bs(t.canMatch)}function Xw(t){return t instanceof Gt||t?.name==="EmptyError"}var mc=Symbol("INITIAL_VALUE");function mi(){return lt(t=>da(t.map(e=>e.pipe(Kt(1),Al(mc)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===mc)return mc;if(n===!1||n instanceof Dn)return n}return!0}),ut(e=>e!==mc),Kt(1)))}function W1(t,e){return oe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?S(te(v({},n),{guardsResult:!0})):G1(o,r,i,t).pipe(oe(a=>a&&j1(a)?K1(r,s,t,e):S(a)),L(a=>te(v({},n),{guardsResult:a})))})}function G1(t,e,n,r){return se(t).pipe(oe(i=>X1(i.component,i.route,n,e,r)),St(i=>i!==!0,!0))}function K1(t,e,n,r){return se(e).pipe(qr(i=>Hr(Y1(i.route.parent,r),Q1(i.route,r),J1(t,i.path,n),Z1(t,i.route,n))),St(i=>i!==!0,!0))}function Q1(t,e){return t!==null&&e&&e(new Vh(t)),S(!0)}function Y1(t,e){return t!==null&&e&&e(new Lh(t)),S(!0)}function Z1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(s=>ha(()=>{let o=js(e)??n,a=yi(s,o),c=$1(a)?a.canActivate(e,t):Jn(o,()=>a(e,t));return Sn(c).pipe(St())}));return S(i).pipe(mi())}function J1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>F1(o)).filter(o=>o!==null).map(o=>ha(()=>{let a=o.guards.map(c=>{let u=js(o.node)??n,l=yi(c,u),d=H1(l)?l.canActivateChild(r,t):Jn(u,()=>l(r,t));return Sn(d).pipe(St())});return S(a).pipe(mi())}));return S(s).pipe(mi())}function X1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return S(!0);let o=s.map(a=>{let c=js(e)??i,u=yi(a,c),l=q1(u)?u.canDeactivate(t,e,n,r):Jn(c,()=>u(t,e,n,r));return Sn(l).pipe(St())});return S(o).pipe(mi())}function eN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return S(!0);let s=i.map(o=>{let a=yi(o,t),c=B1(a)?a.canLoad(e,n):Jn(t,()=>a(e,n));return Sn(c)});return S(s).pipe(mi(),eI(r))}function eI(t){return gl(ie(e=>{if(pi(e))throw Yw(t,e)}),L(e=>e===!0))}function tN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return S(!0);let s=i.map(o=>{let a=yi(o,t),c=z1(a)?a.canMatch(e,n):Jn(t,()=>a(e,n));return Sn(c)});return S(s).pipe(mi(),eI(r))}var Vs=class{constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{constructor(e){super(),this.urlTree=e}};function ui(t){return $r(new Vs(t))}function nN(t){return $r(new T(4e3,!1))}function rN(t){return $r(Zw(!1,tt.GuardRejected))}var Wh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[R])return nN(e.redirectTo);i=i.children[R]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ac(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Dn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new W(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iN(t,e,n,r,i){let s=rf(t,e,n);return s.matched?(r=M1(e,r),tN(r,e,n,i).pipe(L(o=>o===!0?s:v({},Gh)))):S(s)}function rf(t,e,n){if(e.path==="**")return sN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},Gh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||t1)(n,t,e);if(!i)return v({},Gh);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?v(v({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sN(t){return{matched:!0,parameters:t.length>0?Mw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xw(t,e,n,r){return n.length>0&&cN(t,n,r)?{segmentGroup:new W(e,aN(r,new W(n,t.children))),slicedSegments:[]}:n.length===0&&uN(t,n,r)?{segmentGroup:new W(t.segments,oN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new W(t.segments,t.children),slicedSegments:n}}function oN(t,e,n,r){let i={};for(let s of n)if(Nc(t,e,s)&&!r[Mt(s)]){let o=new W([],{});i[Mt(s)]=o}return v(v({},r),i)}function aN(t,e){let n={};n[R]=e;for(let r of t)if(r.path===""&&Mt(r)!==R){let i=new W([],{});n[Mt(r)]=i}return n}function cN(t,e,n){return n.some(r=>Nc(t,e,r)&&Mt(r)!==R)}function uN(t,e,n){return n.some(r=>Nc(t,e,r))}function Nc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lN(t,e,n,r){return Mt(t)!==r&&(r===R||!Nc(e,n,t))?!1:rf(e,t,n).matched}function dN(t,e,n){return e.length===0&&!t.children[n]}var Kh=class{};function hN(t,e,n,r,i,s,o="emptyOnly"){return new Qh(t,e,n,r,i,o,s).recognize()}var fN=31,Qh=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Wh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new T(4002,`'${e.segmentGroup}'`)}recognize(){let e=xw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(n=>{let r=new Ls([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},R,this.rootComponentType,null,{}),i=new qe(r,n),s=new bc("",i),o=w1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,R).pipe(mn(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Jh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(L(s=>s instanceof qe?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return se(i).pipe(qr(s=>{let o=r.children[s],a=k1(n,s);return this.processSegmentGroup(e,a,o,s)}),Sl((s,o)=>(s.push(...o),s)),yn(null),bl(),oe(s=>{if(s===null)return ui(r);let o=tI(s);return pN(o),S(o)}))}processSegment(e,n,r,i,s,o){return se(n).pipe(qr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(mn(c=>{if(c instanceof Vs)return S(null);throw c}))),St(a=>!!a),mn(a=>{if(Xw(a))return dN(r,i,s)?S(new Kh):ui(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return lN(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ui(i):ui(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=rf(n,i,s);if(!a)return ui(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(oe(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=iN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(lt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(lt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Ls(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,mN(r),Mt(r),r.component??r._loadedComponent??null,r,yN(r)),{segmentGroup:g,slicedSegments:w}=xw(n,l,d,c);if(w.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(L(q=>q===null?null:new qe(f,q)));if(c.length===0&&w.length===0)return S(new qe(f,[]));let j=Mt(r)===s;return this.processSegment(u,c,g,w,j?R:s,!0).pipe(L(q=>new qe(f,q instanceof qe?[q]:[])))}))):ui(n)))}getChildConfig(e,n,r){return n.children?S({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):eN(e,n,r,this.urlSerializer).pipe(oe(i=>i?this.configLoader.loadChildren(e,n).pipe(ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):rN(n))):S({routes:[],injector:e})}};function pN(t){t.sort((e,n)=>e.value.outlet===R?-1:n.value.outlet===R?1:e.value.outlet.localeCompare(n.value.outlet))}function gN(t){let e=t.value.routeConfig;return e&&e.path===""}function tI(t){let e=[],n=new Set;for(let r of t){if(!gN(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tI(r.children);e.push(new qe(r.value,i))}return e.filter(r=>!n.has(r))}function mN(t){return t.data||{}}function yN(t){return t.resolve||{}}function _N(t,e,n,r,i,s){return oe(o=>hN(t,e,n,r,o.extractedUrl,i,s).pipe(L(({state:a,tree:c})=>te(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function vN(t,e){return oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of nI(c))o.add(u);let a=0;return se(o).pipe(qr(c=>s.has(c)?wN(c,r,t,e):(c.data=Jh(c,c.parent,t).resolve,S(void 0))),ie(()=>a++),zr(1),oe(c=>a===o.size?S(n):Qe))})}function nI(t){let e=t.children.map(n=>nI(n)).flat();return[t,...e]}function wN(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Kw(i)&&(s[Us]=i.title),IN(s,t,e,r).pipe(L(o=>(t._resolvedData=o,t.data=Jh(t,t.parent,n).resolve,null)))}function IN(t,e,n,r){let i=Dh(t);if(i.length===0)return S({});let s={};return se(i).pipe(oe(o=>EN(t[o],e,n,r).pipe(St(),ie(a=>{s[o]=a}))),zr(1),Dl(s),mn(o=>Xw(o)?Qe:$r(o)))}function EN(t,e,n,r){let i=js(e)??r,s=yi(t,i),o=s.resolve?s.resolve(e,n):Jn(i,()=>s(e,n));return Sn(o)}function Th(t){return lt(e=>{let n=t(e);return n?se(n).pipe(L(()=>e)):S(e)})}var rI=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===R);return i}getResolvedTitleForRoute(r){return r.data[Us]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>_(TN),providedIn:"root"});let t=e;return t})(),TN=(()=>{let e=class e extends rI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(x(bw))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sf=new A("",{providedIn:"root",factory:()=>({})}),of=new A(""),CN=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(lh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sn(r.loadComponent()).pipe(L(iI),ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Qi(()=>{this.componentLoaders.delete(r)})),s=new Vr(i,()=>new je).pipe(Fr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=DN(i,this.compiler,r,this.onLoadEndListener).pipe(Qi(()=>{this.childrenLoaders.delete(i)})),a=new Vr(o,()=>new je).pipe(Fr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DN(t,e,n,r){return Sn(t.loadChildren()).pipe(L(iI),oe(i=>i instanceof hs||Array.isArray(i)?S(i):se(e.compileModuleAsync(i))),L(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(of,[],{optional:!0,self:!0}).flat()),{routes:o.map(nf),injector:s}}))}function bN(t){return t&&typeof t=="object"&&"default"in t}function iI(t){return bN(t)?t.default:t}var af=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>_(SN),providedIn:"root"});let t=e;return t})(),SN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AN=new A("");var RN=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=_(CN),this.environmentInjector=_(Xe),this.urlSerializer=_(Zh),this.rootContexts=_(Rc),this.location=_(Is),this.inputBindingEnabled=_(tf,{optional:!0})!==null,this.titleStrategy=_(rI),this.options=_(sf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(af),this.createViewTransition=_(AN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let r=s=>this.events.next(new kh(s)),i=s=>this.events.next(new Oh(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(v(v({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),L(o=>te(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),lt(o=>{this.currentTransition=o;let a=!1,c=!1;return S(o).pipe(ie(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?te(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new ir(u.id,this.urlSerializer.serialize(u.rawUrl),h,Rh.IgnoredSameUrlNavigation)),u.resolve(null),Qe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return S(u).pipe(lt(h=>{let f=this.transitions?.getValue();return this.events.next(new Ps(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Qe:Promise.resolve(h)}),_N(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=te(v({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Tc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:w,extras:j}=u,q=new Ps(h,this.urlSerializer.serialize(f),g,w);this.events.next(q);let _e=Ww(this.rootComponentType).snapshot;return this.currentTransition=o=te(v({},u),{targetSnapshot:_e,urlAfterRedirects:f,extras:te(v({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,S(o)}else{let h="";return this.events.next(new ir(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Rh.IgnoredByUrlHandlingStrategy)),u.resolve(null),Qe}}),ie(u=>{let l=new Nh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),L(u=>(this.currentTransition=o=te(v({},u),{guards:L1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),W1(this.environmentInjector,u=>this.events.next(u)),ie(u=>{if(o.guardsResult=u.guardsResult,pi(u.guardsResult))throw Yw(this.urlSerializer,u.guardsResult);let l=new xh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",tt.GuardRejected),!1)),Th(u=>{if(u.guards.canActivateChecks.length)return S(u).pipe(ie(l=>{let d=new Ph(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),lt(l=>{let d=!1;return S(l).pipe(vN(this.paramsInheritanceStrategy,this.environmentInjector),ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",tt.NoDataFromResolver)}}))}),ie(l=>{let d=new Mh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Th(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ie(f=>{d.component=f}),L(()=>{})));for(let f of d.children)h.push(...l(f));return h};return da(l(u.targetSnapshot.root)).pipe(yn(null),Kt(1))}),Th(()=>this.afterPreactivation()),lt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?se(d).pipe(L(()=>o)):S(o)}),L(u=>{let l=A1(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=te(v({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ie(()=>{this.events.next(new ks)}),O1(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Kt(1),ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Rl(this.transitionAbortSubject.pipe(ie(u=>{throw u}))),Qi(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",tt.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),mn(u=>{if(c=!0,Jw(u))this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),x1(u)?this.events.next(new Os(u.url)):o.resolve(!1);else{this.events.next(new Ms(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Qe}))}))}cancelNavigationTransition(r,i,s){let o=new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NN(t){return t!==Rs}var xN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>_(PN),providedIn:"root"});let t=e;return t})(),Yh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},PN=(()=>{let e=class e extends Yh{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Wd(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>_(MN),providedIn:"root"});let t=e;return t})(),MN=(()=>{let e=class e extends sI{constructor(){super(...arguments),this.location=_(Is),this.urlSerializer=_(Zh),this.options=_(sf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(af),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ww(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ps)this.stateMemento=this.createStateMemento();else if(r instanceof ir)this.rawUrlTree=i.initialUrl;else if(r instanceof Tc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ks?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof bn&&(r.code===tt.GuardRejected||r.code===tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ms?this.restoreHistory(i,!0):r instanceof rr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=v(v({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Wd(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ss=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ss||{});function kN(t,e){t.events.pipe(ut(n=>n instanceof rr||n instanceof bn||n instanceof Ms||n instanceof ir),L(n=>n instanceof rr||n instanceof ir?Ss.COMPLETE:(n instanceof bn?n.code===tt.Redirect||n.code===tt.SupersededByNewNavigation:!1)?Ss.REDIRECTING:Ss.FAILED),ut(n=>n!==Ss.REDIRECTING),Kt(1)).subscribe(()=>{e()})}function ON(t){throw t}var LN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},oI=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_(uc),this.stateManager=_(sI),this.options=_(sf,{optional:!0})||{},this.pendingTasks=_(sc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(RN),this.urlSerializer=_(Zh),this.location=_(Is),this.urlHandlingStrategy=_(af),this._events=new je,this.errorHandler=this.options.errorHandler||ON,this.navigated=!1,this.routeReuseStrategy=_(xN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(of,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(tf,{optional:!0}),this.eventsSubscription=new re,this.isNgZoneEnabled=_(z)instanceof z&&z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof bn&&i.code!==tt.Redirect&&i.code!==tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rr)this.navigated=!0;else if(i instanceof Os){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||NN(s.source)};this.scheduleNavigation(a,Rs,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}UN(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=v({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(nf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=$w(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Hw(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=pi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Rs,null,i)}navigate(r,i={skipLocationChange:!1}){return VN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=v({},LN):i===!1?s=v({},FN):s=i,pi(r))return Sw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Sw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return kN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new T(4008,!1)}function UN(t){return!(t instanceof ks)&&!(t instanceof Os)}var jN=new A("");function aI(t,...e){return Ga([{provide:of,multi:!0,useValue:t},[],{provide:gi,useFactory:BN,deps:[oI]},{provide:uh,multi:!0,useFactory:$N},e.map(n=>n.\u0275providers)])}function BN(t){return t.routerState.root}function $N(){let t=_(He);return e=>{let n=t.get(ws);if(e!==n.components[0])return;let r=t.get(oI),i=t.get(HN);t.get(qN)===1&&r.initialNavigation(),t.get(zN,null,N.Optional)?.setUpPreloading(),t.get(jN,null,N.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HN=new A("",{factory:()=>new je}),qN=new A("",{providedIn:"root",factory:()=>1});var zN=new A("");var cI=[];var uf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw or(e)},or=function(t){return new Error("Firebase Database ("+uf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var lI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Pc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new lf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hf=function(t){let e=lI(t);return Pc.encodeByteArray(e,!0)},$s=function(t){return hf(t).replace(/\./g,"")},Hs=function(t){try{return Pc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dI(t){return hI(void 0,t)}function hI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!GN(n)||(t[n]=hI(t[n],e[n]));return t}function GN(t){return t!=="__proto__"}function KN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QN=()=>KN().__FIREBASE_DEFAULTS__,YN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Hs(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return QN()||YN()||ZN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pf=t=>{var e,n;return(n=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Mc=t=>{let e=pf(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gf=()=>{var t;return(t=ff())===null||t===void 0?void 0:t.config},mf=t=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${t}`]};var sr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function kc(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$s(JSON.stringify(n)),$s(JSON.stringify(o)),""].join(".")}function he(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function fI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Oc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){let t=he();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kt(){return uf.NODE_CLIENT===!0||uf.NODE_ADMIN===!0}function yf(){try{return typeof indexedDB=="object"}catch{return!1}}function gI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var JN="FirebaseError",ze=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}},nn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ze(i,a,r)}};function XN(t,e){return t.replace(ex,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ex=/\{\$([^}]+)}/g;function _i(t){return JSON.parse(t)}function fe(t){return JSON.stringify(t)}var mI=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=_i(Hs(s[0])||""),n=_i(Hs(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var yI=function(t){let e=mI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_I=function(t){let e=mI(t).claims;return typeof e=="object"&&e.admin===!0};function Ot(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ar(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zs(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function cr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(uI(s)&&uI(o)){if(!cr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uI(t){return t!==null&&typeof t=="object"}function ur(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var xc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,l;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),l=1518500249):(u=s^o^a,l=1859775393):d<60?(u=s&o|a&(s|o),l=2400959708):(u=s^o^a,l=3395469782);let h=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function vI(t,e){let n=new df(t,e);return n.subscribe.bind(n)}var df=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cf),i.error===void 0&&(i.error=cf),i.complete===void 0&&(i.complete=cf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cf(){}function wI(t,e){return`${t} failed: ${e} argument `}var II=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gs=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var B5=4*60*60*1e3;function _t(t){return t&&t._delegate?t._delegate:t}var Le=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lr="[DEFAULT]";var Lc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rx(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nx(t){return t===lr?void 0:t}function rx(t){return t.instantiationMode==="EAGER"}var Ks=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Lc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ix=[],$=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}($||{}),sx={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ox=$.INFO,ax={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},cx=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ax[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lt=class{constructor(e){this.name=e,this._logLevel=ox,this._logHandler=cx,this._userLogHandler=null,ix.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...e),this._logHandler(this,$.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...e),this._logHandler(this,$.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$.INFO,...e),this._logHandler(this,$.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$.WARN,...e),this._logHandler(this,$.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...e),this._logHandler(this,$.ERROR,...e)}};var ux=(t,e)=>e.some(n=>t instanceof n),EI,TI;function lx(){return EI||(EI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dx(){return TI||(TI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CI=new WeakMap,vf=new WeakMap,DI=new WeakMap,_f=new WeakMap,If=new WeakMap;function hx(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ft(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CI.set(n,t)}).catch(()=>{}),If.set(e,t),e}function fx(t){if(vf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vf.set(t,e)}var wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ft(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bI(t){wf=t(wf)}function px(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fc(this),e,...n);return DI.set(r,e.sort?e.sort():[e]),Ft(r)}:dx().includes(t)?function(...e){return t.apply(Fc(this),e),Ft(CI.get(this))}:function(...e){return Ft(t.apply(Fc(this),e))}}function gx(t){return typeof t=="function"?px(t):(t instanceof IDBTransaction&&fx(t),ux(t,lx())?new Proxy(t,wf):t)}function Ft(t){if(t instanceof IDBRequest)return hx(t);if(_f.has(t))return _f.get(t);let e=gx(t);return e!==t&&(_f.set(t,e),If.set(e,t)),e}var Fc=t=>If.get(t);function AI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ft(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ft(o.result),c.oldVersion,c.newVersion,Ft(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var mx=["get","getKey","getAll","getAllKeys","count"],yx=["put","add","delete","clear"],Ef=new Map;function SI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=yx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mx.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Ef.set(e,s),s}bI(t=>te(v({},t),{get:(e,n,r)=>SI(e,n)||t.get(e,n,r),has:(e,n)=>!!SI(e,n)||t.has(e,n)}));var Cf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_x(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _x(t){let e=t.getComponent();return e?.type==="VERSION"}var Df="@firebase/app",RI="0.9.27";var dr=new Lt("@firebase/app"),vx="@firebase/app-compat",wx="@firebase/analytics-compat",Ix="@firebase/analytics",Ex="@firebase/app-check-compat",Tx="@firebase/app-check",Cx="@firebase/auth",Dx="@firebase/auth-compat",bx="@firebase/database",Sx="@firebase/database-compat",Ax="@firebase/functions",Rx="@firebase/functions-compat",Nx="@firebase/installations",xx="@firebase/installations-compat",Px="@firebase/messaging",Mx="@firebase/messaging-compat",kx="@firebase/performance",Ox="@firebase/performance-compat",Lx="@firebase/remote-config",Fx="@firebase/remote-config-compat",Vx="@firebase/storage",Ux="@firebase/storage-compat",jx="@firebase/firestore",Bx="@firebase/firestore-compat",$x="firebase",Hx="10.8.0";var bf="[DEFAULT]",qx={[Df]:"fire-core",[vx]:"fire-core-compat",[Ix]:"fire-analytics",[wx]:"fire-analytics-compat",[Tx]:"fire-app-check",[Ex]:"fire-app-check-compat",[Cx]:"fire-auth",[Dx]:"fire-auth-compat",[bx]:"fire-rtdb",[Sx]:"fire-rtdb-compat",[Ax]:"fire-fn",[Rx]:"fire-fn-compat",[Nx]:"fire-iid",[xx]:"fire-iid-compat",[Px]:"fire-fcm",[Mx]:"fire-fcm-compat",[kx]:"fire-perf",[Ox]:"fire-perf-compat",[Lx]:"fire-rc",[Fx]:"fire-rc-compat",[Vx]:"fire-gcs",[Ux]:"fire-gcs-compat",[jx]:"fire-fst",[Bx]:"fire-fst-compat","fire-js":"fire-js",[$x]:"fire-js-all"};var Qs=new Map,Sf=new Map;function zx(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vt(t){let e=t.name;if(Sf.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,t);for(let n of Qs.values())zx(n,t);return!0}function hr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},An=new nn("app","Firebase",Wx);var Af=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Le("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}};var Ut=Hx;function xf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=gf()),!n)throw An.create("no-options");let s=Qs.get(i);if(s){if(cr(n,s.options)&&cr(r,s.config))return s;throw An.create("duplicate-app",{appName:i})}let o=new Ks(i);for(let c of Sf.values())o.addComponent(c);let a=new Af(n,r,o);return Qs.set(i,a),a}function Rn(t=bf){let e=Qs.get(t);if(!e&&t===bf&&gf())return xf();if(!e)throw An.create("no-app",{appName:t});return e}function Vc(){return Array.from(Qs.values())}function X(t,e,n){var r;let i=(r=qx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}Vt(new Le(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Gx="firebase-heartbeat-database",Kx=1,Ys="firebase-heartbeat-store",Tf=null;function MI(){return Tf||(Tf=AI(Gx,Kx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Tf}function Qx(t){return p(this,null,function*(){try{let n=(yield MI()).transaction(Ys),r=yield n.objectStore(Ys).get(kI(t));return yield n.done,r}catch(e){if(e instanceof ze)dr.warn(e.message);else{let n=An.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}})}function NI(t,e){return p(this,null,function*(){try{let r=(yield MI()).transaction(Ys,"readwrite");yield r.objectStore(Ys).put(e,kI(t)),yield r.done}catch(n){if(n instanceof ze)dr.warn(n.message);else{let r=An.create("idb-set",{originalErrorMessage:n?.message});dr.warn(r.message)}}})}function kI(t){return`${t.name}!${t.options.appId}`}var Yx=1024,Zx=30*24*60*60*1e3,Rf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Nf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Zx}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xI(),{heartbeatsToSend:r,unsentEntries:i}=Jx(this._heartbeatsCache.heartbeats),s=$s(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function xI(){return new Date().toISOString().substring(0,10)}function Jx(t,e=Yx){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Nf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return yf()?gI().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Qx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PI(t){return $s(JSON.stringify({version:2,heartbeats:t})).length}function Xx(t){Vt(new Le("platform-logger",e=>new Cf(e),"PRIVATE")),Vt(new Le("heartbeat",e=>new Rf(e),"PRIVATE")),X(Df,RI,t),X(Df,RI,"esm2017"),X("fire-js","")}Xx("");var eP="firebase",tP="10.8.0";X(eP,tP,"app");var rn=new En("ANGULARFIRE2_VERSION");function wi(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pr=(t,e)=>{let n=e?[e]:Vc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Nn=class{constructor(){return pr(nP)}},nP="app-check";function vi(){}var Uc=class{zone;delegate;constructor(e,n=Il){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Pf=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vi,{},vi,vi)),n.pipe(ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Uc(Zone.current)),this.insideAngular=n.run(()=>new Uc(Zone.current,wl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(x(z))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rP(t){return jc().ngZone.runOutsideAngular(()=>t())}function fr(t){return jc().ngZone.run(()=>t())}function iP(t){return sP(jc())(t)}function sP(t){return function(n){return n=n.lift(new Pf(t.ngZone)),n.pipe(gn(t.outsideAngular),pn(t.insideAngular))}}var oP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),fr(()=>t.apply(void 0,r))},Pn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vi,{},vi,vi))),r[s]=oP(r[s],n));let i=rP(()=>t.apply(this,r));if(!e)if(i instanceof H){let s=jc();return i.pipe(gn(s.outsideAngular),pn(s.insideAngular))}else return fr(()=>i);return i instanceof H?i.pipe(iP):i instanceof Promise?fr(()=>new Promise((s,o)=>i.then(a=>fr(()=>s(a)),a=>fr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:fr(()=>i)};var vt=class{constructor(e){return e}},sn=class{constructor(){return Vc()}};function aP(t){return t&&t.length===1?t[0]:new vt(Rn())}var Mf=new A("angularfire2._apps"),cP={provide:vt,useFactory:aP,deps:[[new ce,Mf]]},uP={provide:sn,deps:[[new ce,Mf]]};function lP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vt(r)}}var dP=(()=>{class t{constructor(n){X("angularfire",rn.full,"core"),X("angularfire",rn.full,"app"),X("angular",tw.full,n.toString())}static \u0275fac=function(r){return new(r||t)(x(Cn))};static \u0275mod=gt({type:t});static \u0275inj=yt({providers:[cP,uP]})}return t})();function OI(t,...e){return{ngModule:dP,providers:[{provide:Mf,useFactory:lP(t),multi:!0,deps:[z,He,xn,...e]}]}}var LI=Pn(xf,!0);function YI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZI=YI,JI=new nn("auth","Firebase",YI());var Wc=new Lt("@firebase/auth");function hP(t,...e){Wc.logLevel<=$.WARN&&Wc.warn(`Auth (${Ut}): ${t}`,...e)}function $c(t,...e){Wc.logLevel<=$.ERROR&&Wc.error(`Auth (${Ut}): ${t}`,...e)}function kn(t,...e){throw Xf(t,...e)}function gr(t,...e){return Xf(t,...e)}function fP(t,e,n){let r=Object.assign(Object.assign({},ZI()),{[e]:n});return new nn("auth","Firebase",r).create(e,{appName:t.name})}function Xf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JI.create(t,...e)}function b(t,e,...n){if(!t)throw Xf(e,...n)}function on(t){let e="INTERNAL ASSERTION FAILED: "+t;throw $c(e),new Error(e)}function On(t,e){t||on(e)}function Ff(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pP(){return FI()==="http:"||FI()==="https:"}function FI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pP()||fI()||"connection"in navigator)?navigator.onLine:!0}function mP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,On(n>e,"Short delay should be less than long delay!"),this.isMobile=qs()||Oc()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ep(t,e){On(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Gc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;on("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;on("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;on("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _P=new mr(3e4,6e4);function tp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ii(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return XI(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=ur(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Gc.fetch()(eE(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function XI(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},yP),e);try{let i=new Vf(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Bc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Bc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Bc(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fP(t,l,u);kn(t,l)}}catch(i){if(i instanceof ze)throw i;kn(t,"network-request-failed",{message:String(i)})}})}function vP(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield Ii(t,e,n,r,i);return"mfaPendingCredential"in u&&kn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function eE(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ep(t.config,i):`${t.config.apiScheme}://${i}`}var Vf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),_P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Bc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gr(t,e,r);return i.customData._tokenResponse=n,i}function wP(t,e){return p(this,null,function*(){return Ii(t,"POST","/v1/accounts:delete",e)})}function IP(t,e){return p(this,null,function*(){return Ii(t,"POST","/v1/accounts:lookup",e)})}function Zs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function np(t,e=!1){return p(this,null,function*(){let n=_t(t),r=yield n.getIdToken(e),i=rp(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zs(kf(i.auth_time)),issuedAtTime:Zs(kf(i.iat)),expirationTime:Zs(kf(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function kf(t){return Number(t)*1e3}function rp(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hs(n);return i?JSON.parse(i):($c("Failed to decode base64 JWT payload"),null)}catch(i){return $c("Caught error parsing JWT payload as JSON",i?.toString()),null}}function EP(t){let e=rp(t);return b(e,"internal-error"),b(typeof e.exp<"u","internal-error"),b(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Js(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ze&&TP(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function TP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Uf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zs(this.lastLoginAt),this.creationTime=Zs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qc(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Js(t,IP(n,{idToken:r}));b(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DP(s.providerUserInfo):[],a=CP(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kc(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function ip(t){return p(this,null,function*(){let e=_t(t);yield Qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DP(t){return t.map(e=>{var{providerId:n}=e,r=El(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bP(t,e){return p(this,null,function*(){let n=yield XI(t,{},()=>p(this,null,function*(){let r=ur({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eE(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gc.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function SP(t,e){return p(this,null,function*(){return Ii(t,"POST","/v2/accounts:revokeToken",tp(t,e))})}var Yc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(typeof e.idToken<"u","internal-error"),b(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return b(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield bP(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(b(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(b(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(b(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return on("not implemented")}};function Mn(t,e){b(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=El(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Js(this,this.stsTokenManager.getToken(this.auth,e));return b(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return np(this,e)}reload(){return ip(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield Js(this,wP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,j=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,q=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_e=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Dt,emailVerified:Wt,isAnonymous:at,providerData:bt,stsTokenManager:xr}=n;b(Dt&&xr,e,"internal-error");let sl=Yc.fromJSON(this.name,xr);b(typeof Dt=="string",e,"internal-error"),Mn(d,e.name),Mn(h,e.name),b(typeof Wt=="boolean",e,"internal-error"),b(typeof at=="boolean",e,"internal-error"),Mn(f,e.name),Mn(g,e.name),Mn(w,e.name),Mn(j,e.name),Mn(q,e.name),Mn(_e,e.name);let Wi=new t({uid:Dt,auth:e,email:h,emailVerified:Wt,displayName:d,isAnonymous:at,photoURL:g,phoneNumber:f,tenantId:w,stsTokenManager:sl,createdAt:q,lastLoginAt:_e});return bt&&Array.isArray(bt)&&(Wi.providerData=bt.map(q0=>Object.assign({},q0))),j&&(Wi._redirectEventId=j),Wi}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Yc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qc(s),s})}};var VI=new Map;function an(t){On(t instanceof Function,"Expected a class definition");let e=VI.get(t);return e?(On(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VI.set(t,e),e)}var AP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),jf=AP;function Hc(t,e,n){return`firebase:${t}:${e}:${n}`}var Zc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(an(jf),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||an(jf),o=Hc(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Xs._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function UI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(oE(e))return"Webos";if(sp(e))return"Safari";if((e.includes("chrome/")||nE(e))&&!e.includes("edge/"))return"Chrome";if(iE(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tE(t=he()){return/firefox\//i.test(t)}function sp(t=he()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(t=he()){return/crios\//i.test(t)}function rE(t=he()){return/iemobile/i.test(t)}function iE(t=he()){return/android/i.test(t)}function sE(t=he()){return/blackberry/i.test(t)}function oE(t=he()){return/webos/i.test(t)}function su(t=he()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RP(t=he()){var e;return su(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NP(){return pI()&&document.documentMode===10}function aE(t=he()){return su(t)||iE(t)||oE(t)||sE(t)||/windows phone/i.test(t)||rE(t)}function xP(){try{return!!(window&&window!==window.top)}catch{return!1}}function cE(t,e=[]){let n;switch(t){case"Browser":n=UI(he());break;case"Worker":n=`${UI(he())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ut}/${r}`}var Bf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PP(n){return p(this,arguments,function*(t,e={}){return Ii(t,"GET","/v2/passwordPolicy",tp(t,e))})}var MP=6,$f=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:MP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jc(this),this.idTokenSubscription=new Jc(this),this.beforeStateQueue=new Bf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=an(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Zc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mP()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?_t(e):null;return n&&b(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(an(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield PP(this),n=new $f(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SP(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&an(e)||this._popupRedirectResolver;b(n,this,"argument-error"),this.redirectPersistenceManager=yield Zc.create(this,[an(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&hP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function op(t){return _t(t)}var Jc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vI(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ap={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kP(t){ap=t}function OP(t){return ap.loadJS(t)}function LP(){return ap.gapiScript}function uE(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function cp(t,e){let n=hr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(cr(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function FP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(an);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function up(t,e,n){let r=op(t);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=lE(e),{host:o,port:a}=VP(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||UP()}function lE(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VP(t){let e=lE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:jI(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:jI(o)}}}function jI(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function UP(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return on("not implemented")}_getIdTokenResponse(e){return on("not implemented")}_linkToIdToken(e,n){return on("not implemented")}_getReauthenticationResolver(e){return on("not implemented")}};function Of(t,e){return p(this,null,function*(){return vP(t,"POST","/v1/accounts:signInWithIdp",tp(t,e))})}var eu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var qf=class extends eu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var eo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield Xs._fromIdTokenResponse(e,r,i),o=BI(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=BI(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function BI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zf=class t extends ze{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,s,e,r):s})}function jP(t,e,n=!1){return p(this,null,function*(){let r=yield Js(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return eo._forOperation(t,"link",r)})}function BP(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Js(t,dE(r,i,e,t),n);b(s.idToken,r,"internal-error");let o=rp(s.idToken);b(o,r,"internal-error");let{sub:a}=o;return b(t.uid===a,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&kn(r,"user-mismatch"),s}})}function $P(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield dE(t,r,e),s=yield eo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function lp(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function dp(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}var tu="__sak";var nu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tu,"1"),this.storage.removeItem(tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function HP(){let t=he();return sp(t)||su(t)}var qP=1e3,zP=10,WP=(()=>{class t extends nu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HP()&&xP(),this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);NP()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,zP):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},qP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield hn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield hn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield hn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hE=WP;var GP=(()=>{class t extends nu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),hp=GP;function KP(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var QP=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield KP(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function fE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Wf=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=fE("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function jt(){return window}function YP(t){jt().location.href=t}function pE(){return typeof jt().WorkerGlobalScope<"u"&&typeof jt().importScripts=="function"}function ZP(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function JP(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XP(){return pE()?self:null}var gE="firebaseLocalStorageDb",eM=1,ru="firebaseLocalStorage",mE="fbase_key",yr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ou(t,e){return t.transaction([ru],e?"readwrite":"readonly").objectStore(ru)}function tM(){let t=indexedDB.deleteDatabase(gE);return new yr(t).toPromise()}function Gf(){let t=indexedDB.open(gE,eM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ru,{keyPath:mE})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ru)?e(r):(r.close(),yield tM(),e(yield Gf()))}))})}function $I(t,e,n){return p(this,null,function*(){let r=ou(t,!0).put({[mE]:e,value:n});return new yr(r).toPromise()})}function nM(t,e){return p(this,null,function*(){let n=ou(t,!1).get(e),r=yield new yr(n).toPromise();return r===void 0?null:r.value})}function HI(t,e){let n=ou(t,!0).delete(e);return new yr(n).toPromise()}var rM=800,iM=3,sM=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Gf(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>iM)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return pE()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=QP._getInstance(XP()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield ZP(),!this.activeServiceWorker)return;this.sender=new Wf(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||JP()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Gf();return yield $I(n,tu,"1"),yield HI(n,tu),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>$I(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>nM(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>HI(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=ou(s,!1).getAll();return new yr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),rM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yE=sM;var M9=uE("rcb"),k9=new mr(3e4,6e4);function oM(t,e){return e?an(e):(b(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var to=class extends Xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Of(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Of(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Of(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function aM(t){return $P(t.auth,new to(t),t.bypassAuthState)}function cM(t){let{auth:e,user:n}=t;return b(n,e,"internal-error"),BP(n,new to(t),t.bypassAuthState)}function uM(t){return p(this,null,function*(){let{auth:e,user:n}=t;return b(n,e,"internal-error"),jP(n,new to(t),t.bypassAuthState)})}var Kf=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return uM;case"reauthViaPopup":case"reauthViaRedirect":return cM;default:kn(this.auth,"internal-error")}}resolve(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var O9=new mr(2e3,1e4);var lM="pendingRedirect",qc=new Map,Qf=class t extends Kf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=qc.get(this.auth._key());if(!e){try{let r=(yield dM(this.resolver,this.auth))?yield hn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return hn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,hn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function dM(t,e){return p(this,null,function*(){let n=pM(e),r=fM(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function hM(t,e){qc.set(t._key(),e)}function fM(t){return an(t._redirectPersistence)}function pM(t){return Hc(lM,t.config.apiKey,t.name)}function gM(t,e,n=!1){return p(this,null,function*(){let r=op(t),i=oM(r,e),o=yield new Qf(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var mM=10*60*1e3,Yf=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_E(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mM&&this.cachedEventUids.clear(),this.cachedEventUids.has(qI(e))}saveEventToCache(e){this.cachedEventUids.add(qI(e)),this.lastProcessedEventTime=Date.now()}};function qI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _E({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(t);default:return!1}}function _M(n){return p(this,arguments,function*(t,e={}){return Ii(t,"GET","/v1/projects",e)})}var vM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;function IM(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _M(t);for(let n of e)try{if(EM(n))return}catch{}kn(t,"unauthorized-domain")})}function EM(t){let e=Ff(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wM.test(n))return!1;if(vM.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var TM=new mr(3e4,6e4);function zI(){let t=jt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CM(t){return new Promise((e,n)=>{var r,i,s;function o(){zI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zI(),n(gr(t,"network-request-failed"))},timeout:TM.get()})}if(!((i=(r=jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jt().gapi)===null||s===void 0)&&s.load)o();else{let a=uE("iframefcb");return jt()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},OP(`${LP()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw zc=null,e})}var zc=null;function DM(t){return zc=zc||CM(t),zc}var bM=new mr(5e3,15e3),SM="__/auth/iframe",AM="emulator/auth/iframe",RM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xM(t){let e=t.config;b(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ep(e,AM):`https://${t.config.authDomain}/${SM}`,r={apiKey:e.apiKey,appName:t.name,v:Ut},i=NM.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ur(r).slice(1)}`}function PM(t){return p(this,null,function*(){let e=yield DM(t),n=jt().gapi;return b(n,t,"internal-error"),e.open({where:document.body,url:xM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RM,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=gr(t,"network-request-failed"),a=jt().setTimeout(()=>{s(o)},bM.get());function c(){jt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var MM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kM=500,OM=600,LM="_blank",FM="http://localhost",iu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function VM(t,e,n,r=kM,i=OM){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},MM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=he().toLowerCase();n&&(a=nE(u)?LM:n),tE(u)&&(e=e||FM,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(RP(u)&&a!=="_self")return UM(e||"",a),new iu(null);let d=window.open(e||"",a,l);b(d,t,"popup-blocked");try{d.focus()}catch{}return new iu(d)}function UM(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jM="__/auth/handler",BM="emulator/auth/handler",$M=encodeURIComponent("fac");function WI(t,e,n,r,i,s){return p(this,null,function*(){b(t.config.authDomain,t,"auth-domain-config-required"),b(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ut,eventId:i};if(e instanceof eu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zs(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof qf){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${$M}=${encodeURIComponent(c)}`:"";return`${HM(t)}?${ur(a).slice(1)}${u}`})}function HM({config:t}){return t.emulator?ep(t,BM):`https://${t.authDomain}/${jM}`}var Lf="webStorageSupport",Zf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hp,this._completeRedirectFn=gM,this._overrideRedirectResult=hM}_openPopup(e,n,r,i){return p(this,null,function*(){var s;On((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield WI(e,n,r,Ff(),i);return VM(e,o,fE())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield WI(e,n,r,Ff(),i);return YP(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(On(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield PM(e),r=new Yf(e);return n.register("authEvent",i=>(b(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lf,{type:Lf},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Lf];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aE()||sp()||su()}},vE=Zf;var GI="@firebase/auth",KI="1.6.0";var Jf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function qM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zM(t){Vt(new Le("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;b(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(t)},u=new Hf(r,i,s,c);return FP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vt(new Le("auth-internal",e=>{let n=op(e.getProvider("auth").getImmediate());return(r=>new Jf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),X(GI,KI,qM(t)),X(GI,KI,"esm2017")}var WM=5*60,GM=mf("authIdTokenMaxAge")||WM,QI=null,KM=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GM)return;let i=n?.token;QI!==i&&(QI=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fp(t=Rn()){let e=hr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=cp(t,{popupRedirectResolver:vE,persistence:[yE,hE,hp]}),r=mf("authTokenSyncURL");if(r){let s=KM(r);dp(n,s,()=>s(n.currentUser)),lp(n,o=>s(o))}let i=pf("auth");return i&&up(n,`http://${i}`),n}function QM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",QM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zM("Browser");var wE="auth",no=class{constructor(e){return e}},_r=class{constructor(){return pr(wE)}};var pp=new A("angularfire2.auth-instances");function Hk(t,e){let n=wi(wE,t,e);return n&&new no(n)}function qk(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new no(r)}}var zk={provide:_r,deps:[[new ce,pp]]},Wk={provide:no,useFactory:Hk,deps:[[new ce,pp],vt]},Gk=(()=>{class t{constructor(){X("angularfire",rn.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=gt({type:t});static \u0275inj=yt({providers:[Wk,zk]})}return t})();function IE(t,...e){return{ngModule:Gk,providers:[{provide:pp,useFactory:qk(t),multi:!0,deps:[z,He,xn,sn,[new ce,Nn],...e]}]}}var EE=Pn(fp,!0);var Kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},y,Lp=Lp||{},E=Kk||self;function wu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function yo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Qk(t){return Object.prototype.hasOwnProperty.call(t,gp)&&t[gp]||(t[gp]=++Yk)}var gp="closure_uid_"+(1e9*Math.random()>>>0),Yk=0;function Zk(t,e,n){return t.call.apply(t.bind,arguments)}function Jk(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function De(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?De=Zk:De=Jk,De.apply(null,arguments)}function au(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ge(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ln(){this.s=this.s,this.o=this.o}var Xk=0;Ln.prototype.s=!1;Ln.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Xk!=0)&&Qk(this)};Ln.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var OE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TE(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(wu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function be(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var eO=function(){if(!E.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};E.addEventListener("test",n,e),E.removeEventListener("test",n,e)}catch{}return t}();function co(t){return/^[\s\xa0]*$/.test(t)}function Iu(){var t=E.navigator;return t&&(t=t.userAgent)?t:""}function Bt(t){return Iu().indexOf(t)!=-1}function Vp(t){return Vp[" "](t),t}Vp[" "]=function(){};function tO(t,e){var n=HO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nO=Bt("Opera"),Di=Bt("Trident")||Bt("MSIE"),LE=Bt("Edge"),wp=LE||Di,FE=Bt("Gecko")&&!(Iu().toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),rO=Iu().toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge");function VE(){var t=E.document;return t?t.documentMode:void 0}var Ip;e:{if(cu="",uu=function(){var t=Iu();if(FE)return/rv:([^\);]+)(\)|;)/.exec(t);if(LE)return/Edge\/([\d\.]+)/.exec(t);if(Di)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rO)return/WebKit\/(\S+)/.exec(t);if(nO)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),uu&&(cu=uu?uu[1]:""),Di&&(lu=VE(),lu!=null&&lu>parseFloat(cu))){Ip=String(lu);break e}Ip=cu}var cu,uu,lu,Ep;E.document&&Di?(mp=VE(),Ep=mp||parseInt(Ip,10)||void 0):Ep=void 0;var mp,iO=Ep;function uo(t,e){if(be.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FE){e:{try{Vp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uo.$.h.call(this)}}ge(uo,be);var sO={2:"touch",3:"pen",4:"mouse"};uo.prototype.h=function(){uo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _o="closure_listenable_"+(1e6*Math.random()|0),oO=0;function aO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++oO,this.fa=this.ia=!1}function Eu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Up(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function cO(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function UE(t){let e={};for(let n in t)e[n]=t[n];return e}var CE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<CE.length;s++)n=CE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tu(t){this.src=t,this.g={},this.h=0}Tu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Cp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new aO(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Tp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=OE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Eu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var jp="closure_lm_"+(1e6*Math.random()|0),yp={};function BE(t,e,n,r,i){if(r&&r.once)return HE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BE(t,e[s],n,r,i);return null}return n=Hp(n),t&&t[_o]?t.O(e,n,yo(r)?!!r.capture:!!r,i):$E(t,e,n,!1,r,i)}function $E(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yo(i)?!!i.capture:!!i,a=$p(t);if(a||(t[jp]=a=new Tu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=uO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uO(){function t(n){return e.call(t.src,t.listener,n)}let e=lO;return t}function HE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)HE(t,e[s],n,r,i);return null}return n=Hp(n),t&&t[_o]?t.P(e,n,yo(r)?!!r.capture:!!r,i):$E(t,e,n,!0,r,i)}function qE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)qE(t,e[s],n,r,i);else r=yo(r)?!!r.capture:!!r,n=Hp(n),t&&t[_o]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Cp(s,n,r,i),-1<n&&(Eu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$p(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cp(e,n,r,i)),(n=-1<t?e[t]:null)&&Bp(n))}function Bp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_o])Tp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$p(e))?(Tp(n,t),n.h==0&&(n.src=null,e[jp]=null)):Eu(t)}}}function zE(t){return t in yp?yp[t]:yp[t]="on"+t}function lO(t,e){if(t.fa)t=!0;else{e=new uo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Bp(t),t=n.call(r,e)}return t}function $p(t){return t=t[jp],t instanceof Tu?t:null}var _p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hp(t){return typeof t=="function"?t:(t[_p]||(t[_p]=function(e){return t.handleEvent(e)}),t[_p])}function pe(){Ln.call(this),this.i=new Tu(this),this.S=this,this.J=null}ge(pe,Ln);pe.prototype[_o]=!0;pe.prototype.removeEventListener=function(t,e,n,r){qE(this,t,e,n,r)};function Ee(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new be(e,t);else if(e instanceof be)e.target=e.target||t;else{var i=e;e=new be(r,t),jE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=du(o,r,!0,e)&&i}if(o=e.g=t,i=du(o,r,!0,e)&&i,i=du(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=du(o,r,!1,e)&&i}pe.prototype.N=function(){if(pe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Eu(n[r]);delete t.g[e],t.h--}}this.J=null};pe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};pe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function du(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Tp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var qp=E.JSON.stringify,Dp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function dO(){var t=zp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var bp=class{constructor(){this.h=this.g=null}add(e,n){let r=WE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},WE=new Dp(()=>new Sp,t=>t.reset()),Sp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function hO(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fO(t){E.setTimeout(()=>{throw t},0)}var lo,ho=!1,zp=new bp,GE=()=>{let t=E.Promise.resolve(void 0);lo=()=>{t.then(pO)}},pO=()=>{for(var t;t=dO();){try{t.h.call(t.g)}catch(n){fO(n)}var e=WE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ho=!1};function Cu(t,e){pe.call(this),this.h=t||1,this.g=e||E,this.j=De(this.qb,this),this.l=Date.now()}ge(Cu,pe);y=Cu.prototype;y.ga=!1;y.T=null;y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(Wp(this),this.start()))}};y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}y.N=function(){Cu.$.N.call(this),Wp(this),delete this.g};function Gp(t,e,n){if(typeof t=="function")n&&(t=De(t,n));else if(t&&typeof t.handleEvent=="function")t=De(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:E.setTimeout(t,e||0)}function KE(t){t.g=Gp(()=>{t.g=null,t.i&&(t.i=!1,KE(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Ap=class extends Ln{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KE(this)}N(){super.N(),this.g&&(E.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function fo(t){Ln.call(this),this.h=t,this.g={}}ge(fo,Ln);var DE=[];function QE(t,e,n,r){Array.isArray(n)||(n&&(DE[0]=n.toString()),n=DE);for(var i=0;i<n.length;i++){var s=BE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YE(t){Up(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bp(e)},t),t.g={}}fo.prototype.N=function(){fo.$.N.call(this),YE(this)};fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Du(){this.g=!0}Du.prototype.Ea=function(){this.g=!1};function gO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function mO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ti(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_O(t,n)+(r?" "+r:"")})}function yO(t,e){t.info(function(){return"TIMEOUT: "+e})}Du.prototype.info=function(){};function _O(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return qp(n)}catch{return e}}var Er={},bE=null;function bu(){return bE=bE||new pe}Er.Ta="serverreachability";function ZE(t){be.call(this,Er.Ta,t)}ge(ZE,be);function po(t){let e=bu();Ee(e,new ZE(e))}Er.STAT_EVENT="statevent";function JE(t,e){be.call(this,Er.STAT_EVENT,t),this.stat=e}ge(JE,be);function Me(t){let e=bu();Ee(e,new JE(e,t))}Er.Ua="timingevent";function XE(t,e){be.call(this,Er.Ua,t),this.size=e}ge(XE,be);function vo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return E.setTimeout(function(){t()},e)}var Su={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kp(){}Kp.prototype.h=null;function SE(t){return t.h||(t.h=t.i())}function tT(){}var wo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qp(){be.call(this,"d")}ge(Qp,be);function Yp(){be.call(this,"c")}ge(Yp,be);var Rp;function Au(){}ge(Au,Kp);Au.prototype.g=function(){return new XMLHttpRequest};Au.prototype.i=function(){return{}};Rp=new Au;function Io(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fo(this),this.P=vO,t=wp?125:void 0,this.V=new Cu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nT}function nT(){this.i=null,this.g="",this.h=!1}var vO=45e3,rT={},Np={};y=Io.prototype;y.setTimeout=function(t){this.P=t};function xp(t,e,n){t.L=1,t.A=Nu(un(e)),t.u=n,t.S=!0,iT(t,null)}function iT(t,e){t.G=Date.now(),Eo(t),t.B=un(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),hT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new nT,t.g=MT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Ap(De(t.Pa,t,t.g),t.O)),QE(t.U,t.g,"readystatechange",t.nb),e=t.I?UE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),po(),gO(t.j,t.v,t.B,t.m,t.W,t.u)}y.nb=function(t){t=t.target;let e=this.M;e&&$t(t)==3?e.l():this.Pa(t)};y.Pa=function(t){try{if(t==this.g)e:{let l=$t(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||wp||this.g&&(this.h.h||this.g.ja()||xE(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?po(3):po(2)),Ru(this);var n=this.g.da();this.ca=n;t:if(sT(this)){var r=xE(this.g);t="";var i=r.length,s=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),ao(this);var o="";break t}this.h.i=new E.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,mO(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!co(a)){var u=a;break t}}u=null}if(n=u)Ti(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pp(this,n);else{this.i=!1,this.s=3,Me(12),vr(this),ao(this);break e}}this.S?(oT(this,l,o),wp&&this.i&&l==3&&(QE(this.U,this.V,"tick",this.mb),this.V.start())):(Ti(this.j,this.m,o,null),Pp(this,o)),l==4&&vr(this),this.i&&!this.J&&(l==4?RT(this.l,this):(this.i=!1,Eo(this)))}else jO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),vr(this),ao(this)}}}catch{}finally{}};function sT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function oT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=wO(t,n),i==Np){e==4&&(t.s=4,Me(14),r=!1),Ti(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rT){t.s=4,Me(15),Ti(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ti(t.j,t.m,i,null),Pp(t,i);sT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Me(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ng(e),e.M=!0,Me(11))):(Ti(t.j,t.m,n,"[Invalid Chunked Response]"),vr(t),ao(t))}y.mb=function(){if(this.g){var t=$t(this.g),e=this.g.ja();this.o<e.length&&(Ru(this),oT(this,t,e),this.i&&t!=4&&Eo(this))}};function wO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Np:(n=Number(e.substring(n,r)),isNaN(n)?rT:(r+=1,r+n>e.length?Np:(e=e.slice(r,r+n),t.o=r+n,e)))}y.cancel=function(){this.J=!0,vr(this)};function Eo(t){t.Y=Date.now()+t.P,aT(t,t.P)}function aT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=vo(De(t.lb,t),e)}function Ru(t){t.C&&(E.clearTimeout(t.C),t.C=null)}y.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(yO(this.j,this.B),this.L!=2&&(po(),Me(17)),vr(this),this.s=2,ao(this)):aT(this,this.Y-t)};function ao(t){t.l.H==0||t.J||RT(t.l,t)}function vr(t){Ru(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wp(t.V),YE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Mp(n.i,t))){if(!t.K&&Mp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)mu(n),Mu(n);else break e;tg(n),Me(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vo(De(n.ib,n),6e3));if(1>=gT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wr(n,11)}else if((t.K||n.g==t)&&mu(n),!co(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zp(s,s.h),s.h=null))}if(r.F){let w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Z(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=PT(r,r.J?r.pa:null,r.Y),o.K){mT(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Ru(a),Eo(a)),r.g=o}else ST(r);0<n.j.length&&ku(n)}else u[0]!="stop"&&u[0]!="close"||wr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wr(n,7):eg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}po(4)}catch{}}function IO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function EO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function cT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EO(t),r=IO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var uT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ir(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ir){this.h=t.h,pu(this,t.j),this.s=t.s,this.g=t.g,gu(this,t.m),this.l=t.l;var e=t.i,n=new go;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),AE(this,n),this.o=t.o}else t&&(e=String(t).match(uT))?(this.h=!1,pu(this,e[1]||"",!0),this.s=so(e[2]||""),this.g=so(e[3]||"",!0),gu(this,e[4]),this.l=so(e[5]||"",!0),AE(this,e[6]||"",!0),this.o=so(e[7]||"")):(this.h=!1,this.i=new go(null,this.h))}Ir.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oo(e,RE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oo(e,RE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oo(n,n.charAt(0)=="/"?bO:DO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oo(n,AO)),t.join("")};function un(t){return new Ir(t)}function pu(t,e,n){t.j=n?so(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function AE(t,e,n){e instanceof go?(t.i=e,RO(t.i,t.h)):(n||(e=oo(e,SO)),t.i=new go(e,t.h))}function Z(t,e,n){t.i.set(e,n)}function Nu(t){return Z(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function so(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var RE=/[#\/\?@]/g,DO=/[#\?:]/g,bO=/[#\?]/g,SO=/[#\?@]/g,AO=/#/g;function go(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fn(t){t.g||(t.g=new Map,t.h=0,t.i&&TO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}y=go.prototype;y.add=function(t,e){Fn(this),this.i=null,t=bi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lT(t,e){Fn(t),e=bi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dT(t,e){return Fn(t),e=bi(t,e),t.g.has(e)}y.forEach=function(t,e){Fn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};y.ta=function(){Fn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};y.Z=function(t){Fn(this);let e=[];if(typeof t=="string")dT(this,t)&&(e=e.concat(this.g.get(bi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};y.set=function(t,e){return Fn(this),this.i=null,t=bi(this,t),dT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hT(t,e,n){lT(t,e),0<n.length&&(t.i=null,t.g.set(bi(t,e),Fp(n)),t.h+=n.length)}y.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function bi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RO(t,e){e&&!t.j&&(Fn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lT(this,r),hT(this,i,n))},t)),t.j=e}var NO=class{constructor(t,e){this.g=t,this.map=e}};function fT(t){this.l=t||xO,E.PerformanceNavigationTiming?(t=E.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(E.g&&E.g.Ka&&E.g.Ka()&&E.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xO=10;function pT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function gT(t){return t.h?1:t.g?t.g.size:0}function Mp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zp(t,e){t.g?t.g.add(e):t.h=e}function mT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fT.prototype.cancel=function(){if(this.i=yT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function yT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Fp(t.i)}var PO=class{stringify(t){return E.JSON.stringify(t,void 0)}parse(t){return E.JSON.parse(t,void 0)}};function MO(){this.g=new PO}function kO(t,e,n){let r=n||"";try{cT(t,function(i,s){let o=i;yo(i)&&(o=qp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function OO(t,e){let n=new Du;if(E.Image){let r=new Image;r.onload=au(hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=au(hu,n,r,"TestLoadImage: error",!1,e),r.onabort=au(hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=au(hu,n,r,"TestLoadImage: timeout",!1,e),E.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function To(t){this.l=t.ec||null,this.j=t.ob||!1}ge(To,Kp);To.prototype.g=function(){return new xu(this.l,this.j)};To.prototype.i=function(t){return function(){return t}}({});function xu(t,e){pe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ge(xu,pe);var Jp=0;y=xu.prototype;y.open=function(t,e){if(this.readyState!=Jp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mo(this)};y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||E).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=Jp};y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof E.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_T(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _T(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Co(this):mo(this),this.readyState==3&&_T(this)}};y.Za=function(t){this.g&&(this.response=this.responseText=t,Co(this))};y.Ya=function(t){this.g&&(this.response=t,Co(this))};y.ka=function(){this.g&&Co(this)};function Co(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mo(t)}y.setRequestHeader=function(t,e){this.v.append(t,e)};y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};y.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function mo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LO=E.JSON.parse;function ne(t){pe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vT,this.L=this.M=!1}ge(ne,pe);var vT="",FO=/^https?$/i,VO=["POST","PUT"];y=ne.prototype;y.Oa=function(t){this.M=t};y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?SE(this.u):SE(Rp),this.g.onreadystatechange=De(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){NE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=E.FormData&&t instanceof E.FormData,!(0<=OE(VO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ET(this),0<this.B&&((this.L=UO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.ua,this)):this.A=Gp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){NE(this,s)}};function UO(t){return Di&&typeof t.timeout=="number"&&t.ontimeout!==void 0}y.ua=function(){typeof Lp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))};function NE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wT(t),Pu(t)}function wT(t){t.F||(t.F=!0,Ee(t,"complete"),Ee(t,"error"))}y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ee(this,"complete"),Ee(this,"abort"),Pu(this))};y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pu(this,!0)),ne.$.N.call(this)};y.La=function(){this.s||(this.G||this.v||this.l?IT(this):this.kb())};y.kb=function(){IT(this)};function IT(t){if(t.h&&typeof Lp<"u"&&(!t.C[1]||$t(t)!=4||t.da()!=2)){if(t.v&&$t(t)==4)Gp(t.La,0,t);else if(Ee(t,"readystatechange"),$t(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(uT)[1]||null;!i&&E.self&&E.self.location&&(i=E.self.location.protocol.slice(0,-1)),r=!FO.test(i?i.toLowerCase():"")}n=r}if(n)Ee(t,"complete"),Ee(t,"success");else{t.m=6;try{var s=2<$t(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",wT(t)}}finally{Pu(t)}}}}function Pu(t,e){if(t.g){ET(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ee(t,"ready");try{n.onreadystatechange=r}catch{}}}function ET(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(E.clearTimeout(t.A),t.A=null)}y.isActive=function(){return!!this.g};function $t(t){return t.g?t.g.readyState:0}y.da=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}};y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LO(e)}};function xE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jO(t){let e={};t=(t.g&&2<=$t(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(co(t[r]))continue;var n=hO(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}cO(e,function(r){return r.join(", ")})}y.Ia=function(){return this.m};y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TT(t){let e="";return Up(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Z(t,e,n))}function ro(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CT(t){this.Ga=0,this.j=[],this.l=new Du,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ro("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ro("baseRetryDelayMs",5e3,t),this.hb=ro("retryDelaySeedMs",1e4,t),this.eb=ro("forwardChannelMaxRetries",2,t),this.xa=ro("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fT(t&&t.concurrentRequestLimit),this.Ja=new MO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}y=CT.prototype;y.ra=8;y.H=1;function eg(t){if(DT(t),t.H==3){var e=t.W++,n=un(t.I);if(Z(n,"SID",t.K),Z(n,"RID",e),Z(n,"TYPE","terminate"),Do(t,n),e=new Io(t,t.l,e),e.L=2,e.A=Nu(un(n)),n=!1,E.navigator&&E.navigator.sendBeacon)try{n=E.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&E.Image&&(new Image().src=e.A,n=!0),n||(e.g=MT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Eo(e)}xT(t)}function Mu(t){t.g&&(ng(t),t.g.cancel(),t.g=null)}function DT(t){Mu(t),t.u&&(E.clearTimeout(t.u),t.u=null),mu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&E.clearTimeout(t.m),t.m=null)}function ku(t){if(!pT(t.i)&&!t.m){t.m=!0;var e=t.Na;lo||GE(),ho||(lo(),ho=!0),zp.add(e,t),t.C=0}}function BO(t,e){return gT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vo(De(t.Na,t,e),NT(t,t.C)),t.C++,!0)}y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Io(this,this.l,t),s=this.s;if(this.U&&(s?(s=UE(s),jE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bT(this,i,e),n=un(this.I),Z(n,"RID",t),Z(n,"CVER",22),this.F&&Z(n,"X-HTTP-Session-Id",this.F),Do(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(TT(s)))+"&"+e:this.o&&Xp(n,this.o,s)),Zp(this.i,i),this.bb&&Z(n,"TYPE","init"),this.P?(Z(n,"$req",e),Z(n,"SID","null"),i.aa=!0,xp(i,n,null)):xp(i,n,e),this.H=2}}else this.H==3&&(t?PE(this,t):this.j.length==0||pT(this.i)||PE(this))};function PE(t,e){var n;e?n=e.m:n=t.W++;let r=un(t.I);Z(r,"SID",t.K),Z(r,"RID",n),Z(r,"AID",t.V),Do(t,r),t.o&&t.s&&Xp(r,t.o,t.s),n=new Io(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zp(t.i,n),xp(n,r,e)}function Do(t,e){t.na&&Up(t.na,function(n,r){Z(e,r,n)}),t.h&&cT({},function(n,r){Z(e,r,n)})}function bT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?De(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{kO(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ST(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;lo||GE(),ho||(lo(),ho=!0),zp.add(e,t),t.A=0}}function tg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vo(De(t.Ma,t),NT(t,t.A)),t.A++,!0)}y.Ma=function(){if(this.u=null,AT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vo(De(this.jb,this),t)}};y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Me(10),Mu(this),AT(this))};function ng(t){t.B!=null&&(E.clearTimeout(t.B),t.B=null)}function AT(t){t.g=new Io(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=un(t.wa);Z(e,"RID","rpc"),Z(e,"SID",t.K),Z(e,"AID",t.V),Z(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Z(e,"TO",t.qa),Z(e,"TYPE","xmlhttp"),Do(t,e),t.o&&t.s&&Xp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Nu(un(e)),n.u=null,n.S=!0,iT(n,t)}y.ib=function(){this.v!=null&&(this.v=null,Mu(this),tg(this),Me(19))};function mu(t){t.v!=null&&(E.clearTimeout(t.v),t.v=null)}function RT(t,e){var n=null;if(t.g==e){mu(t),ng(t),t.g=null;var r=2}else if(Mp(t.i,e))n=e.F,mT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=bu(),Ee(r,new XE(r,n)),ku(t)}else ST(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&BO(t,e)||r==2&&tg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wr(t,5);break;case 4:wr(t,10);break;case 3:wr(t,6);break;default:wr(t,2)}}}function NT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=De(t.pb,t);n||(n=new Ir("//www.google.com/images/cleardot.gif"),E.location&&E.location.protocol=="http"||pu(n,"https"),Nu(n)),OO(n.toString(),r)}else Me(2);t.H=0,t.h&&t.h.za(e),xT(t),DT(t)}y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Me(2)):(this.l.info("Failed to ping google.com"),Me(1))};function xT(t){if(t.H=0,t.ma=[],t.h){let e=yT(t.i);(e.length!=0||t.j.length!=0)&&(TE(t.ma,e),TE(t.ma,t.j),t.i.i.length=0,Fp(t.j),t.j.length=0),t.h.ya()}}function PT(t,e,n){var r=n instanceof Ir?un(n):new Ir(n);if(r.g!="")e&&(r.g=e+"."+r.g),gu(r,r.m);else{var i=E.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ir(null);r&&pu(s,r),e&&(s.g=e),i&&gu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Z(r,n,e),Z(r,"VER",t.ra),Do(t,r),r}function MT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ne(new To({ob:n})):new ne(t.va),e.Oa(t.J),e}y.isActive=function(){return!!this.h&&this.h.isActive(this)};function kT(){}y=kT.prototype;y.Ba=function(){};y.Aa=function(){};y.za=function(){};y.ya=function(){};y.isActive=function(){return!0};y.Va=function(){};function yu(){if(Di&&!(10<=Number(iO)))throw Error("Environmental error: no available transport.")}yu.prototype.g=function(t,e){return new We(t,e)};function We(t,e){pe.call(this),this.g=new CT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!co(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!co(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Si(this)}ge(We,pe);We.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Me(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PT(t,null,t.Y),ku(t)};We.prototype.close=function(){eg(this.g)};We.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qp(t),t=n);e.j.push(new NO(e.fb++,t)),e.H==3&&ku(e)};We.prototype.N=function(){this.g.h=null,delete this.j,eg(this.g),delete this.g,We.$.N.call(this)};function OT(t){Qp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ge(OT,Qp);function LT(){Yp.call(this),this.status=1}ge(LT,Yp);function Si(t){this.g=t}ge(Si,kT);Si.prototype.Ba=function(){Ee(this.g,"a")};Si.prototype.Aa=function(t){Ee(this.g,new OT(t))};Si.prototype.za=function(t){Ee(this.g,new LT)};Si.prototype.ya=function(){Ee(this.g,"b")};function $O(){this.blockSize=-1}function wt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ge(wt,$O);wt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function vp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}wt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)vp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vp(this,r),i=0;break}}this.h=i,this.i+=e};wt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function G(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var HO={};function rg(t){return-128<=t&&128>t?tO(t,function(e){return new G([e|0],0>e?-1:0)}):new G([t|0],0>t?-1:0)}function Ht(t){if(isNaN(t)||!isFinite(t))return Ci;if(0>t)return Ie(Ht(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kp;return new G(e,0)}function FT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ie(FT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ht(Math.pow(e,8)),r=Ci,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ht(Math.pow(e,s)),r=r.R(s).add(Ht(o))):(r=r.R(n),r=r.add(Ht(o)))}return r}var kp=4294967296,Ci=rg(0),Op=rg(1),ME=rg(16777216);y=G.prototype;y.ea=function(){if(rt(this))return-Ie(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kp+r)*e,e*=kp}return t};y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(cn(this))return"0";if(rt(this))return"-"+Ie(this).toString(t);for(var e=Ht(Math.pow(t,6)),n=this,r="";;){var i=vu(n,e).g;n=_u(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,cn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function cn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function rt(t){return t.h==-1}y.X=function(t){return t=_u(this,t),rt(t)?-1:cn(t)?0:1};function Ie(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new G(n,~t.h).add(Op)}y.abs=function(){return rt(this)?Ie(this):this};y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new G(n,n[n.length-1]&-2147483648?-1:0)};function _u(t,e){return t.add(Ie(e))}y.R=function(t){if(cn(this)||cn(t))return Ci;if(rt(this))return rt(t)?Ie(this).R(Ie(t)):Ie(Ie(this).R(t));if(rt(t))return Ie(this.R(Ie(t)));if(0>this.X(ME)&&0>t.X(ME))return Ht(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,fu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,fu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,fu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,fu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new G(n,0)};function fu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function io(t,e){this.g=t,this.h=e}function vu(t,e){if(cn(e))throw Error("division by zero");if(cn(t))return new io(Ci,Ci);if(rt(t))return e=vu(Ie(t),e),new io(Ie(e.g),Ie(e.h));if(rt(e))return e=vu(t,Ie(e)),new io(Ie(e.g),e.h);if(30<t.g.length){if(rt(t)||rt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Op,r=e;0>=r.X(t);)n=kE(n),r=kE(r);var i=Ei(n,1),s=Ei(r,1);for(r=Ei(r,2),n=Ei(n,2);!cn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ei(r,1),n=Ei(n,1)}return e=_u(t,i.R(e)),new io(i,e)}for(i=Ci;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ht(n),o=s.R(e);rt(o)||0<o.X(t);)n-=r,s=Ht(n),o=s.R(e);cn(s)&&(s=Op),i=i.add(s),t=_u(t,o)}return new io(i,t)}y.gb=function(t){return vu(this,t).h};y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new G(n,this.h&t.h)};y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new G(n,this.h|t.h)};y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new G(n,this.h^t.h)};function kE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new G(n,t.h)}function Ei(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new G(i,t.h)}yu.prototype.createWebChannel=yu.prototype.g;We.prototype.send=We.prototype.u;We.prototype.open=We.prototype.m;We.prototype.close=We.prototype.close;Su.NO_ERROR=0;Su.TIMEOUT=8;Su.HTTP_ERROR=6;eT.COMPLETE="complete";tT.EventType=wo;wo.OPEN="a";wo.CLOSE="b";wo.ERROR="c";wo.MESSAGE="d";pe.prototype.listen=pe.prototype.O;ne.prototype.listenOnce=ne.prototype.P;ne.prototype.getLastError=ne.prototype.Sa;ne.prototype.getLastErrorCode=ne.prototype.Ia;ne.prototype.getStatus=ne.prototype.da;ne.prototype.getResponseJson=ne.prototype.Wa;ne.prototype.getResponseText=ne.prototype.ja;ne.prototype.send=ne.prototype.ha;ne.prototype.setWithCredentials=ne.prototype.Oa;wt.prototype.digest=wt.prototype.l;wt.prototype.reset=wt.prototype.reset;wt.prototype.update=wt.prototype.j;G.prototype.add=G.prototype.add;G.prototype.multiply=G.prototype.R;G.prototype.modulo=G.prototype.gb;G.prototype.compare=G.prototype.X;G.prototype.toNumber=G.prototype.ea;G.prototype.toString=G.prototype.toString;G.prototype.getBits=G.prototype.D;G.fromNumber=Ht;G.fromString=FT;var qO=It.createWebChannelTransport=function(){return new yu},zO=It.getStatEventTarget=function(){return bu()},WO=It.ErrorCode=Su,GO=It.EventType=eT,KO=It.Event=Er,QO=It.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},T6=It.FetchXmlHttpFactory=To,YO=It.WebChannel=tT,ZO=It.XhrIo=ne,JO=It.Md5=wt,VT=It.Integer=G;var UT="@firebase/firestore";var me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};me.UNAUTHENTICATED=new me(null),me.GOOGLE_CREDENTIALS=new me("google-credentials-uid"),me.FIRST_PARTY=new me("first-party-uid"),me.MOCK_USER=new me("mock-user");var bo="10.8.0";var Ri=new Lt("@firebase/firestore");function Ge(t,...e){if(Ri.logLevel<=$.DEBUG){let n=e.map(Dg);Ri.debug(`Firestore (${bo}): ${t}`,...n)}}function Cg(t,...e){if(Ri.logLevel<=$.ERROR){let n=e.map(Dg);Ri.error(`Firestore (${bo}): ${t}`,...n)}}function XO(t,...e){if(Ri.logLevel<=$.WARN){let n=e.map(Dg);Ri.warn(`Firestore (${bo}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Fe(t="Unexpected state"){let e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw Cg(e),new Error(e)}function sg(t,e){t||Fe()}var Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},le=class extends ze{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ou=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},og=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(me.UNAUTHENTICATED))}shutdown(){}},ag=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cg=class{constructor(e){this.t=e,this.currentUser=me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sg(typeof r.accessToken=="string"),new Ou(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return sg(e===null||typeof e=="string"),new me(e)}},ug=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},lg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ug(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(sg(typeof n.token=="string"),this.R=n.token,new dg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function eL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var fg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=eL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function HT(t,e){return t<e?-1:t>e?1:0}var pg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Vn=class t extends pg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new le(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Tr=class t{constructor(e){this.path=e}static fromPath(e){return new t(Vn.fromString(e))}static fromName(e){return new t(Vn.fromString(e).popFirst(5))}static empty(){return new t(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Vn(e.slice()))}};var gg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};gg.UNKNOWN_ID=-1;function qT(t){return t.name==="IndexedDbTransactionError"}function tL(t){return t===0&&1/t==-1/0}var nL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k6=[...nL,"documentOverlays"],rL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iL=rL,O6=[...iL,"indexConfiguration","indexState","indexEntries"];var Ni=class t{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ai(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ai(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ai(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ai(this.root,e,this.comparator,!0)}},Ai=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();let e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}};zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Lu=class t{constructor(e){this.comparator=e,this.data=new Ni(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fu(this.data.getIterator())}getIteratorFrom(e){return new Fu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Fu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return HT(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xi.EMPTY_BYTE_STRING=new xi("");var F6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jT(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sL(t){return typeof t=="string"?xi.fromBase64String(t):xi.fromUint8Array(t)}var yg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},_g=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function oL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var V6=new Ni(Tr.comparator);var U6=new Ni(Tr.comparator);var j6=new Ni(Tr.comparator),B6=new Lu(Tr.comparator);var $6=new Lu(HT);var BT,F;(F=BT||(BT={}))[F.OK=0]="OK",F[F.CANCELLED=1]="CANCELLED",F[F.UNKNOWN=2]="UNKNOWN",F[F.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",F[F.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",F[F.NOT_FOUND=5]="NOT_FOUND",F[F.ALREADY_EXISTS=6]="ALREADY_EXISTS",F[F.PERMISSION_DENIED=7]="PERMISSION_DENIED",F[F.UNAUTHENTICATED=16]="UNAUTHENTICATED",F[F.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",F[F.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",F[F.ABORTED=10]="ABORTED",F[F.OUT_OF_RANGE=11]="OUT_OF_RANGE",F[F.UNIMPLEMENTED=12]="UNIMPLEMENTED",F[F.INTERNAL=13]="INTERNAL",F[F.UNAVAILABLE=14]="UNAVAILABLE",F[F.DATA_LOSS=15]="DATA_LOSS";var H6=new VT([4294967295,4294967295],0);var Vu=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(jT(e.integerValue));else if("doubleValue"in e){let r=jT(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),tL(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(sL(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?oL(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Fe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Tr.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Vu.bt=new Vu;var q6=new Uint8Array(0);var qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);function ig(){return typeof document<"u"?document:null}var vg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var wg=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function aL(t,e){if(Cg("AsyncQueue",`${e}: ${t}`),qT(t))return new le(Te.UNAVAILABLE,`${e}: ${t}`);throw t}var Ig=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=me.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){Ge("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=aL(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function zT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var $T=new Map;function cL(t,e,n,r){if(e===!0&&r===!0)throw new le(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uL(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function lL(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=uL(t);throw new le(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Uu=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ju=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new le(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uu(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new og;switch(r.type){case"firstParty":return new lg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=$T.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),$T.delete(n),r.terminate())}(this),Promise.resolve()}};function WT(t,e,n,r={}){var i;let s=(t=lL(t,ju))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&XO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=me.MOCK_USER;else{a=kc(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new le(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new me(u)}t._authCredentials=new ag(new Ou(a,c))}}var Eg=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new vg(this,"async_queue_retry"),this._u=()=>{let n=ig();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Un;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!qT(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cg("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=wg.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Fe()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Tg=class extends ju{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Eg}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dL(this),this._firestoreClient.terminate()}};function GT(t,e){let n=typeof t=="object"?t:Rn(),r=typeof t=="string"?t:e||"(default)",i=hr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Mc("firestore");s&&WT(i,...s)}return i}function dL(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new yg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zT(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ig(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var z6=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){bo=i})(Ut),Vt(new Le("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Tg(new cg(r.getProvider("auth-internal")),new hg(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _g(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),X(UT,"4.4.2",e),X(UT,"4.4.2","esm2017")})();var So=class{constructor(e){return e}},KT="firestore",bg=class{constructor(){return pr(KT)}};var Sg=new A("angularfire2.firestore-instances");function hL(t,e){let n=wi(KT,t,e);return n&&new So(n)}function fL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new So(r)}}var pL={provide:bg,deps:[[new ce,Sg]]},gL={provide:So,useFactory:hL,deps:[[new ce,Sg],vt]},mL=(()=>{class t{constructor(){X("angularfire",rn.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=gt({type:t});static \u0275inj=yt({providers:[gL,pL]})}return t})();function QT(t,...e){return{ngModule:mL,providers:[{provide:Sg,useFactory:fL(t),multi:!0,deps:[z,He,xn,sn,[new ce,_r],[new ce,Nn],...e]}]}}var YT=Pn(GT,!0);var ZT="@firebase/database",JT="1.0.3";var Dm="";function yL(t){Dm=t}var Og=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_i(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Lg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ot(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var NC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Og(e)}}catch{}return new Lg},Dr=NC("localStorage"),Fg=NC("sessionStorage");var Oi=new Lt("@firebase/database"),_L=function(){let t=1;return function(){return t++}}(),xC=function(t){let e=II(t),n=new xc;n.update(e);let r=n.digest();return Pc.encodeByteArray(r)},jo=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jo.apply(null,r):typeof r=="object"?e+=fe(r):e+=r,e+=" "}return e},br=null,XT=!0,vL=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Oi.logLevel=$.VERBOSE,br=Oi.log.bind(Oi),e&&Fg.set("logging_enabled",!0)):typeof t=="function"?br=t:(br=null,Fg.remove("logging_enabled"))},Se=function(...t){if(XT===!0&&(XT=!1,br===null&&Fg.get("logging_enabled")===!0&&vL(!0)),br){let e=jo.apply(null,t);br(e)}},Bo=function(t){return function(...e){Se(t,...e)}},Vg=function(...t){let e="FIREBASE INTERNAL ERROR: "+jo(...t);Oi.error(e)},dn=function(...t){let e=`FIREBASE FATAL ERROR: ${jo(...t)}`;throw Oi.error(e),new Error(e)},Ke=function(...t){let e="FIREBASE WARNING: "+jo(...t);Oi.warn(e)},wL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},PC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},IL=function(t){if(kt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fi="[MIN_NAME]",Sr="[MAX_NAME]",qi=function(t,e){if(t===e)return 0;if(t===Fi||e===Sr)return-1;if(e===Fi||t===Sr)return 1;{let n=eC(t),r=eC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},EL=function(t,e){return t===e?0:t<e?-1:1},Ao=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fe(e))},bm=function(t){if(typeof t!="object"||t===null)return fe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fe(e[r]),n+=":",n+=bm(t[e[r]]);return n+="}",n},MC=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ot(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var kC=function(t){m(!PC(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let l=u.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(l.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},TL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var DL=new RegExp("^-?(0*)\\d{1,10}$"),bL=-2147483648,SL=2147483647,eC=function(t){if(DL.test(t)){let e=Number(t);if(e>=bL&&e<=SL)return e}return null},$o=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ke("Exception was thrown by user callback.",n),e},Math.floor(0))}},AL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ug=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ke(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var jg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ke(e)}},ko=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),$u="5",OC="v",LC="s",FC="r",VC="f",UC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jC="ls",BC="p",Bg="ac",$C="websocket",HC="long_polling";var Hu=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function RL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qC(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===$C)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RL(t)&&(n.ns=t.namespace);let i=[];return ot(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var $g=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return dI(this.counters_)}};var Ag={},Rg={};function Sm(t){let e=t.toString();return Ag[e]||(Ag[e]=new $g),Ag[e]}function NL(t,e){let n=t.toString();return Rg[n]||(Rg[n]=e()),Rg[n]}var Hg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$o(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var tC="start",xL="close",PL="pLPCommand",ML="pRTLPCB",zC="id",WC="pw",GC="ser",kL="cb",OL="seg",LL="ts",FL="d",VL="dframe",KC=1870,QC=30,UL=KC-QC,jL=25e3,BL=3e4,qg=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bo(e),this.stats_=Sm(n),this.urlFn=c=>(this.appCheckToken&&(c[Bg]=this.appCheckToken),qC(n,HC,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Hg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BL)),IL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zg((...s)=>{let[o,a,c,u,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tC)this.id=a,this.password=c;else if(o===xL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[tC]="t",r[GC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OC]=$u,this.transportSessionId&&(r[LC]=this.transportSessionId),this.lastSessionId&&(r[jC]=this.lastSessionId),this.applicationId&&(r[BC]=this.applicationId),this.appCheckToken&&(r[Bg]=this.appCheckToken),typeof location<"u"&&location.hostname&&UC.test(location.hostname)&&(r[FC]=VC);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return kt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!TL()&&!CL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=hf(n),i=MC(r,UL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(kt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[VL]="t",r[zC]=e,r[WC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},zg=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,kt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=_L(),window[PL+this.uniqueCallbackIdentifier]=e,window[ML+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Se("frame writing exception"),a.stack&&Se(a.stack),Se(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Se("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[zC]=this.myID,e[WC]=this.myPW,e[GC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QC+r.length<=KC;){let o=this.pendingSegs.shift();r=r+"&"+OL+i+"="+o.seg+"&"+LL+i+"="+o.ts+"&"+FL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){kt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Se("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var $L=16384,HL=45e3,qu=null;typeof MozWebSocket<"u"?qu=MozWebSocket:typeof WebSocket<"u"&&(qu=WebSocket);var Ro=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bo(this.connId),this.stats_=Sm(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[OC]=$u,!kt()&&typeof location<"u"&&location.hostname&&UC.test(location.hostname)&&(a[FC]=VC),r&&(a[LC]=r),i&&(a[jC]=i),s&&(a[Bg]=s),o&&(a[BC]=o),qC(n,$C,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dr.set("previous_websocket_failure",!0);try{let i;if(kt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${$u}/${Dm}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new qu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&qu!==null&&!t.forceDisallow_}static previouslyFailed(){return Dr.isInMemoryStorage||Dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=_i(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=fe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=MC(r,$L);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HL))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),qL=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[qg,Ro]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ro&&Ro.isAvailable(),i=r&&!Ro.previouslyFailed();if(n.webSocketOnly&&(r||Ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ro];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),zL=6e4,WL=5e3,GL=10*1024,KL=100*1024,Ng="t",nC="d",QL="s",rC="r",YL="e",iC="o",sC="a",oC="n",aC="p",ZL="h",Wg=class{constructor(e,n,r,i,s,o,a,c,u,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bo("c:"+this.id+":"),this.transportManager_=new qL(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>KL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ng in e){let n=e[Ng];n===sC?this.upgradeIfSecondaryHealthy_():n===rC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===iC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ao("t",e),r=Ao("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:aC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ao("t",e),r=Ao("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ao(Ng,e);if(nC in e){let r=e[nC];if(n===ZL){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===oC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QL?this.onConnectionShutdown_(r):n===rC?this.onReset_(r):n===YL?Vg("Server Error: "+r):n===iC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$u!==r&&Ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Mo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:aC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var zu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Wu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Gu=class t extends Wu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var cC=32,uC=768,Y=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function K(){return new Y("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bn(t){return t.pieces_.length-t.pieceNum_}function J(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Y(t.pieces_,e)}function YC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function JL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ZC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JC(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Y(e,0)}function ye(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Y)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Y(n,0)}function M(t){return t.pieceNum_>=t.pieces_.length}function it(t,e){let n=V(t),r=V(e);if(n===null)return e;if(n===r)return it(J(t),J(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XC(t,e){if(Bn(t)!==Bn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bn(t)>Bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Gg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=ZC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Gs(this.parts_[r]);e0(this)}};function XL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Gs(e),e0(t)}function eF(t){let e=t.parts_.pop();t.byteLength_-=Gs(e),t.parts_.length>0&&(t.byteLength_-=1)}function e0(t){if(t.byteLength_>uC)throw new Error(t.errorPrefix_+"has a key path longer than "+uC+" bytes ("+t.byteLength_+").");if(t.parts_.length>cC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cC+") or object contains a cycle "+Cr(t))}function Cr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Kg=class t extends Wu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var No=1e3,tF=60*5*1e3,lC=30*1e3,nF=1.3,rF=3e4,iF="server_kill",dC=3,Am=(()=>{class t extends zu{constructor(n,r,i,s,o,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Bo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=No,this.maxReconnectDelay_=tF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Gu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(fe(o)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new sr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let u=c.d,l=c.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),l!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ot(n,"w")){let i=ar(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||_I(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=yI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+fe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Vg("Unrecognized action received from server: "+fe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rF&&(this.reconnectDelay_=No),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nF)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},l=function(h){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:u,sendRequest:l};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Wg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{Ke(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(iF)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ke(h),u())}}})}interrupt(n){Se("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Se("Resuming connection for reason: "+n),delete this.interruptReasons_[n],zs(this.interruptReasons_)&&(this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>bm(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Y(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Se("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dC&&(this.reconnectDelay_=lC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Se("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";kt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Dm.replace(/\./g,"-")]=1,qs()?n["framework.cordova"]=1:Oc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Gu.getInstance().currentlyOnline();return zs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),U=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Vi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new U(Fi,e),i=new U(Fi,n);return this.compare(r,i)!==0}minPost(){return U.MIN}};var Bu,Ku=class extends Vi{static get __EMPTY_NODE(){return Bu}static set __EMPTY_NODE(e){Bu=e}compare(e,n){return qi(e.name,n.name)}isDefinedOn(e){throw or("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return U.MIN}maxPost(){return new U(Sr,Bu)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new U(e,Bu)}toString(){return".key"}},Li=new Ku;var Mi=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Et=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??st.EMPTY_NODE,this.right=o??st.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return st.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Qg=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Et(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},st=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Et.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Et.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Mi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Mi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Mi(this.root_,null,this.comparator_,!0,e)}};st.EMPTY_NODE=new Qg;function sF(t,e){return qi(t.name,e.name)}function Rm(t,e){return qi(t,e)}var Yg;function oF(t){Yg=t}var t0=function(t){return typeof t=="number"?"number:"+kC(t):"string:"+t},n0=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ot(e,".sv"),"Priority must be a string or number.")}else m(t===Yg||t.isEmpty(),"priority of unexpected type.");m(t===Yg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var hC,Ui=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),n0(this.priorityNode_)}static set __childrenNodeConstructor(n){hC=n}static get __childrenNodeConstructor(){return hC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return M(n)?this:V(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=V(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Bn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(J(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+t0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=kC(this.value_):n+=this.value_,this.lazyHash_=xC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return m(s>=0,"Unknown leaf type: "+r),m(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),r0,i0;function aF(t){r0=t}function cF(t){i0=t}var Zg=class extends Vi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?qi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(Sr,new Ui("[PRIORITY-POST]",i0))}makePost(e,n){let r=r0(e);return new U(n,new Ui("[PRIORITY-POST]",r))}toString(){return".priority"}},Re=new Zg;var uF=Math.log(2),Jg=class{constructor(e){let n=s=>parseInt(Math.log(s)/uF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Qu=function(t,e,n,r){t.sort(e);let i=function(c,u){let l=u-c,d,h;if(l===0)return null;if(l===1)return d=t[c],h=n?n(d):d,new Et(h,d.node,Et.BLACK,null,null);{let f=parseInt(l/2,10)+c,g=i(c,f),w=i(f+1,u);return d=t[f],h=n?n(d):d,new Et(h,d.node,Et.BLACK,g,w)}},s=function(c){let u=null,l=null,d=t.length,h=function(g,w){let j=d-g,q=d;d-=g;let _e=i(j+1,q),Dt=t[j],Wt=n?n(Dt):Dt;f(new Et(Wt,Dt.node,w,null,_e))},f=function(g){u?(u.left=g,u=g):(l=g,u=g)};for(let g=0;g<c.count;++g){let w=c.nextBitIsOne(),j=Math.pow(2,c.count-(g+1));w?h(j,Et.BLACK):(h(j,Et.BLACK),h(j,Et.RED))}return l},o=new Jg(t.length),a=s(o);return new st(r||e,a)};var xg,Pi={},ji=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Pi&&Re,"ChildrenNode.ts has not been loaded"),xg=xg||new t({".priority":Pi},{".priority":Re}),xg}get(e){let n=ar(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return Ot(this.indexSet_,e.toString())}addIndex(e,n){m(e!==Li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(U.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Qu(r,e.getCompare()):a=Pi;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let l=Object.assign({},this.indexes_);return l[c]=a,new t(l,u)}addToIndexes(e,n){let r=Ws(this.indexes_,(i,s)=>{let o=ar(this.indexSet_,s);if(m(o,"Missing index implementation for "+s),i===Pi)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(U.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Qu(a,o.getCompare())}else return Pi;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new U(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Ws(this.indexes_,i=>{if(i===Pi)return i;{let s=n.get(e.name);return s?i.remove(new U(e.name,s)):i}});return new t(r,this.indexSet_)}};var xo,ee=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&n0(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xo||(xo=new t(new st(Rm),null,ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?xo:r}}getChild(n){let r=V(n);return r===null?this:this.getImmediateChild(r).getChild(J(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new U(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?xo:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=V(n);if(i===null)return r;{m(V(n)!==".priority"||Bn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(J(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Re,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+t0(this.getPriority().val())+":"),this.forEachChild(Re,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":xC(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new U(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new U(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new U(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,U.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,U.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ho?-1:0}withIndex(n){if(n===Li||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Li||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Re),s=r.getIterator(Re),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Li?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Xg=class extends ee{constructor(){super(new st(Rm),ee.EMPTY_NODE,ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}},Ho=new Xg;Object.defineProperties(U,{MIN:{value:new U(Fi,ee.EMPTY_NODE)},MAX:{value:new U(Sr,Ho)}});Ku.__EMPTY_NODE=ee.EMPTY_NODE;Ui.__childrenNodeConstructor=ee;oF(Ho);cF(Ho);var lF=!0;function Ae(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ui(n,Ae(e))}if(!(t instanceof Array)&&lF){let n=[],r=!1;if(ot(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=Ae(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new U(o,c)))}}),n.length===0)return ee.EMPTY_NODE;let s=Qu(n,sF,o=>o.name,Rm);if(r){let o=Qu(n,Re.getCompare());return new ee(s,Ae(e),new ji({".priority":o},{".priority":Re}))}else return new ee(s,Ae(e),ji.Default)}else{let n=ee.EMPTY_NODE;return ot(t,(r,i)=>{if(Ot(t,r)&&r.substring(0,1)!=="."){let s=Ae(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ae(e))}}aF(Ae);var em=class extends Vi{constructor(e){super(),this.indexPath_=e,m(!M(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?qi(e.name,n.name):s}makePost(e,n){let r=Ae(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){let e=ee.EMPTY_NODE.updateChild(this.indexPath_,Ho);return new U(Sr,e)}toString(){return ZC(this.indexPath_,0).join("/")}};var tm=class extends Vi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?qi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(e,n){let r=Ae(e);return new U(n,r)}toString(){return".value"}},dF=new tm;function hF(t){return{type:"value",snapshotNode:t}}function fF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var nm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fi}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function pC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Re?n="$priority":t.index_===dF?n="$value":t.index_===Li?n="$key":(m(t.index_ instanceof em,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gC(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Re&&(e.i=t.index_.toString()),e}var rm=class t extends zu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=pC(e._queryParams);this.restRequest_(s+".json",c,(u,l)=>{let d=l;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ar(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=pC(e._queryParams),r=e._path.toString(),i=new sr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ur(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=_i(a.responseText)}catch{Ke("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ke("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var im=class{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Yu(){return{value:null,children:new Map}}function s0(t,e,n){if(M(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=V(e);t.children.has(r)||t.children.set(r,Yu());let i=t.children.get(r);e=J(e),s0(i,e,n)}}function sm(t,e,n){t.value!==null?n(e,t.value):mF(t,(r,i)=>{let s=new Y(e.toString()+"/"+r);sm(i,s,n)})}function mF(t,e){t.children.forEach((n,r)=>{e(r,n)})}var om=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var mC=10*1e3,yF=30*1e3,_F=5*60*1e3,am=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new om(e);let r=mC+(yF-mC)*Math.random();Mo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ot(e,(i,s)=>{s>0&&Ot(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Mo(this.reportStats_.bind(this),Math.floor(Math.random()*2*_F))}};var ln=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(ln||{});function o0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function a0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function c0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var cm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ln.ACK_USER_WRITE,this.source=o0()}operationForChild(e){if(M(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Y(e));return new t(K(),n,this.revert)}}else return m(V(this.path)===e,"operationForChild called for unrelated child."),new t(J(this.path),this.affectedTree,this.revert)}};var Bi=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ln.OVERWRITE}operationForChild(e){return M(this.path)?new t(this.source,K(),this.snap.getImmediateChild(e)):new t(this.source,J(this.path),this.snap)}};var Zu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ln.MERGE}operationForChild(e){if(M(this.path)){let n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new Bi(this.source,K(),n.value):new t(this.source,K(),n)}else return m(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,J(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Fo=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(M(e))return this.isFullyInitialized()&&!this.filtered_;let n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function vF(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(gF(o.childName,o.snapshotNode))}),Po(t,i,"child_removed",e,r,n),Po(t,i,"child_added",e,r,n),Po(t,i,"child_moved",s,r,n),Po(t,i,"child_changed",e,r,n),Po(t,i,"value",e,r,n),i}function Po(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>IF(t,a,c)),o.forEach(a=>{let c=wF(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function wF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function IF(t,e,n){if(e.childName==null||n.childName==null)throw or("Should only compare child_ events.");let r=new U(e.childName,e.snapshotNode),i=new U(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function u0(t,e){return{eventCache:t,serverCache:e}}function Oo(t,e,n,r){return u0(new Fo(e,n,r),t.serverCache)}function l0(t,e,n,r){return u0(t.eventCache,new Fo(e,n,r))}function um(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Pg,EF=()=>(Pg||(Pg=new st(EL)),Pg),Ve=class t{constructor(e,n=EF()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ot(e,(r,i)=>{n=n.set(new Y(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(M(e))return null;{let r=V(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(J(e),n);return s!=null?{path:ye(new Y(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(M(e))return this;{let n=V(e),r=this.children.get(n);return r!==null?r.subtree(J(e)):new t(null)}}set(e,n){if(M(e))return new t(n,this.children);{let r=V(e),s=(this.children.get(r)||new t(null)).set(J(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(M(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=V(e),r=this.children.get(n);if(r){let i=r.remove(J(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(M(e))return this.value;{let n=V(e),r=this.children.get(n);return r?r.get(J(e)):null}}setTree(e,n){if(M(e))return n;{let r=V(e),s=(this.children.get(r)||new t(null)).setTree(J(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(K(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ye(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(M(e))return null;{let s=V(e),o=this.children.get(s);return o?o.findOnPath_(J(e),ye(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(M(e))return this;{this.value&&r(n,this.value);let i=V(e),s=this.children.get(i);return s?s.foreachOnPath_(J(e),ye(n,i),r):new t(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ye(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Ct=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ve(null))}};function Lo(t,e,n){if(M(e))return new Ct(new Ve(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=it(i,e);return s=s.updateChild(o,n),new Ct(t.writeTree_.set(i,s))}else{let i=new Ve(n),s=t.writeTree_.setTree(e,i);return new Ct(s)}}}function yC(t,e,n){let r=t;return ot(n,(i,s)=>{r=Lo(r,ye(e,i),s)}),r}function _C(t,e){if(M(e))return Ct.empty();{let n=t.writeTree_.setTree(e,new Ve(null));return new Ct(n)}}function lm(t,e){return Rr(t,e)!=null}function Rr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(it(n.path,e)):null}function vC(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{e.push(new U(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new U(r,i.value))}),e}function jn(t,e){if(M(e))return t;{let n=Rr(t,e);return n!=null?new Ct(new Ve(n)):new Ct(t.writeTree_.subtree(e))}}function dm(t){return t.writeTree_.isEmpty()}function $i(t,e){return d0(K(),t.writeTree_,e)}function d0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(m(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=d0(ye(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ye(t,".priority"),r)),n}}function h0(t,e){return y0(e,t)}function TF(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Lo(t.visibleWrites,e,n)),t.lastWriteId=r}function CF(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function DF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&bF(a,r.path)?i=!1:Tt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return SF(t),!0;if(r.snap)t.visibleWrites=_C(t.visibleWrites,r.path);else{let a=r.children;ot(a,c=>{t.visibleWrites=_C(t.visibleWrites,ye(r.path,c))})}return!0}else return!1}function bF(t,e){if(t.snap)return Tt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Tt(ye(t.path,n),e))return!0;return!1}function SF(t){t.visibleWrites=f0(t.allWrites,AF,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function AF(t){return t.visible}function f0(t,e,n){let r=Ct.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Tt(n,o)?(a=it(n,o),r=Lo(r,a,s.snap)):Tt(o,n)&&(a=it(o,n),r=Lo(r,K(),s.snap.getChild(a)));else if(s.children){if(Tt(n,o))a=it(n,o),r=yC(r,a,s.children);else if(Tt(o,n))if(a=it(o,n),M(a))r=yC(r,K(),s.children);else{let c=ar(s.children,V(a));if(c){let u=c.getChild(J(a));r=Lo(r,K(),u)}}}else throw or("WriteRecord should have .snap or .children")}}return r}function p0(t,e,n,r,i){if(!r&&!i){let s=Rr(t.visibleWrites,e);if(s!=null)return s;{let o=jn(t.visibleWrites,e);if(dm(o))return n;if(n==null&&!lm(o,K()))return null;{let a=n||ee.EMPTY_NODE;return $i(o,a)}}}else{let s=jn(t.visibleWrites,e);if(!i&&dm(s))return n;if(!i&&n==null&&!lm(s,K()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Tt(u.path,e)||Tt(e,u.path))},a=f0(t.allWrites,o,e),c=n||ee.EMPTY_NODE;return $i(a,c)}}}function RF(t,e,n){let r=ee.EMPTY_NODE,i=Rr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=jn(t.visibleWrites,e);return n.forEachChild(Re,(o,a)=>{let c=$i(jn(s,new Y(o)),a);r=r.updateImmediateChild(o,c)}),vC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=jn(t.visibleWrites,e);return vC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function NF(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ye(e,n);if(lm(t.visibleWrites,s))return null;{let o=jn(t.visibleWrites,s);return dm(o)?i.getChild(n):$i(o,i.getChild(n))}}function xF(t,e,n,r){let i=ye(e,n),s=Rr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=jn(t.visibleWrites,i);return $i(o,r.getNode().getImmediateChild(n))}else return null}function PF(t,e){return Rr(t.visibleWrites,e)}function MF(t,e,n,r,i,s,o){let a,c=jn(t.visibleWrites,e),u=Rr(c,K());if(u!=null)a=u;else if(n!=null)a=$i(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&l.length<i;)d(f,r)!==0&&l.push(f),f=h.getNext();return l}else return[]}function kF(){return{visibleWrites:Ct.empty(),allWrites:[],lastWriteId:-1}}function hm(t,e,n,r){return p0(t.writeTree,t.treePath,e,n,r)}function g0(t,e){return RF(t.writeTree,t.treePath,e)}function wC(t,e,n,r){return NF(t.writeTree,t.treePath,e,n,r)}function Ju(t,e){return PF(t.writeTree,ye(t.treePath,e))}function OF(t,e,n,r,i,s){return MF(t.writeTree,t.treePath,e,n,r,i,s)}function Nm(t,e,n){return xF(t.writeTree,t.treePath,e,n)}function m0(t,e){return y0(ye(t.treePath,e),t.writeTree)}function y0(t,e){return{treePath:t,writeTree:e}}var fm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,fC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,pF(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,fF(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,fC(r,e.snapshotNode,i.oldSnap));else throw or("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var pm=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},_0=new pm,Vo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Fo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ar(this.viewCache_),s=OF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function LF(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FF(t,e,n,r,i){let s=new fm,o,a;if(n.type===ln.OVERWRITE){let u=n;u.source.fromUser?o=gm(t,e,u.path,u.snap,r,i,s):(m(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!M(u.path),o=Xu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===ln.MERGE){let u=n;u.source.fromUser?o=UF(t,e,u.path,u.children,r,i,s):(m(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=mm(t,e,u.path,u.children,r,i,a,s))}else if(n.type===ln.ACK_USER_WRITE){let u=n;u.revert?o=$F(t,e,u.path,r,i,s):o=jF(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===ln.LISTEN_COMPLETE)o=BF(t,e,n.path,r,s);else throw or("Unknown operation type: "+n.type);let c=s.getChanges();return VF(e,o,c),{viewCache:o,changes:c}}function VF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=um(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(hF(um(e)))}}function v0(t,e,n,r,i,s){let o=e.eventCache;if(Ju(r,n)!=null)return e;{let a,c;if(M(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Ar(e),l=u instanceof ee?u:ee.EMPTY_NODE,d=g0(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let u=hm(r,Ar(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=V(n);if(u===".priority"){m(Bn(n)===1,"Can't have a priority with additional path components");let l=o.getNode();c=e.serverCache.getNode();let d=wC(r,n,l,c);d!=null?a=t.filter.updatePriority(l,d):a=o.getNode()}else{let l=J(n),d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();let h=wC(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(u).updateChild(l,h):d=o.getNode().getImmediateChild(u)}else d=Nm(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,l,i,s):a=o.getNode()}}return Oo(e,a,o.isFullyInitialized()||M(n),t.filter.filtersNodes())}}function Xu(t,e,n,r,i,s,o,a){let c=e.serverCache,u,l=o?t.filter:t.filter.getIndexedFilter();if(M(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{let f=V(n);if(!c.isCompleteForPath(n)&&Bn(n)>1)return e;let g=J(n),j=c.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?u=l.updatePriority(c.getNode(),j):u=l.updateChild(c.getNode(),f,j,g,_0,null)}let d=l0(e,u,c.isFullyInitialized()||M(n),l.filtersNodes()),h=new Vo(i,d,s);return v0(t,d,n,i,h,a)}function gm(t,e,n,r,i,s,o){let a=e.eventCache,c,u,l=new Vo(i,e,s);if(M(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Oo(e,u,!0,t.filter.filtersNodes());else{let d=V(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Oo(e,u,a.isFullyInitialized(),a.isFiltered());else{let h=J(n),f=a.getNode().getImmediateChild(d),g;if(M(h))g=r;else{let w=l.getCompleteChild(d);w!=null?YC(h)===".priority"&&w.getChild(JC(h)).isEmpty()?g=w:g=w.updateChild(h,r):g=ee.EMPTY_NODE}if(f.equals(g))c=e;else{let w=t.filter.updateChild(a.getNode(),d,g,h,l,o);c=Oo(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function IC(t,e){return t.eventCache.isCompleteForChild(e)}function UF(t,e,n,r,i,s,o){let a=e;return r.foreach((c,u)=>{let l=ye(n,c);IC(e,V(l))&&(a=gm(t,a,l,u,i,s,o))}),r.foreach((c,u)=>{let l=ye(n,c);IC(e,V(l))||(a=gm(t,a,l,u,i,s,o))}),a}function EC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;M(n)?u=r:u=new Ve(null).setTree(n,r);let l=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),g=EC(t,f,h);c=Xu(t,c,new Y(d),g,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!l.hasChild(d)&&!f){let g=e.serverCache.getNode().getImmediateChild(d),w=EC(t,g,h);c=Xu(t,c,new Y(d),w,i,s,o,a)}}),c}function jF(t,e,n,r,i,s,o){if(Ju(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(M(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Xu(t,e,n,c.getNode().getChild(n),i,s,a,o);if(M(n)){let u=new Ve(null);return c.getNode().forEachChild(Li,(l,d)=>{u=u.set(new Y(l),d)}),mm(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ve(null);return r.foreach((l,d)=>{let h=ye(n,l);c.isCompleteForPath(h)&&(u=u.set(l,c.getNode().getChild(h)))}),mm(t,e,n,u,i,s,a,o)}}function BF(t,e,n,r,i){let s=e.serverCache,o=l0(e,s.getNode(),s.isFullyInitialized()||M(n),s.isFiltered());return v0(t,o,n,r,_0,i)}function $F(t,e,n,r,i,s){let o;if(Ju(r,n)!=null)return e;{let a=new Vo(r,e,i),c=e.eventCache.getNode(),u;if(M(n)||V(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=hm(r,Ar(e));else{let d=e.serverCache.getNode();m(d instanceof ee,"serverChildren would be complete if leaf node"),l=g0(r,d)}l=l,u=t.filter.updateFullNode(c,l,s)}else{let l=V(n),d=Nm(r,l,e.serverCache);d==null&&e.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),d!=null?u=t.filter.updateChild(c,l,d,J(n),a,s):e.eventCache.getNode().hasChild(l)?u=t.filter.updateChild(c,l,ee.EMPTY_NODE,J(n),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hm(r,Ar(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ju(r,K())!=null,Oo(e,u,o,t.filter.filtersNodes())}}function HF(t,e){let n=Ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!M(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function TC(t,e,n,r){e.type===ln.MERGE&&e.source.queryId!==null&&(m(Ar(t.viewCache_),"We should always have a full cache before handling merges"),m(um(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=FF(t.processor_,i,e,n,r);return LF(t.processor_,s.viewCache),m(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,qF(t,s.changes,s.viewCache.eventCache.getNode(),null)}function qF(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return vF(t.eventGenerator_,e,n,i)}var CC;function zF(t){m(!CC,"__referenceConstructor has already been defined"),CC=t}function xm(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return m(s!=null,"SyncTree gave us an op for an invalid query."),TC(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(TC(o,e,n,r));return s}}function Pm(t,e){let n=null;for(let r of t.views.values())n=n||HF(r,e);return n}var DC;function WF(t){m(!DC,"__referenceConstructor has already been defined"),DC=t}var el=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=kF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function GF(t,e,n,r,i){return TF(t.pendingWriteTree_,e,n,r,i),i?nl(t,new Bi(o0(),e,n)):[]}function ki(t,e,n=!1){let r=CF(t.pendingWriteTree_,e);if(DF(t.pendingWriteTree_,e)){let s=new Ve(null);return r.snap!=null?s=s.set(K(),!0):ot(r.children,o=>{s=s.set(new Y(o),!0)}),nl(t,new cm(r.path,s,n))}else return[]}function tl(t,e,n){return nl(t,new Bi(a0(),e,n))}function KF(t,e,n){let r=Ve.fromObject(n);return nl(t,new Zu(a0(),e,r))}function QF(t,e,n,r){let i=T0(t,r);if(i!=null){let s=C0(i),o=s.path,a=s.queryId,c=it(o,e),u=new Bi(c0(a),c,n);return D0(t,o,u)}else return[]}function YF(t,e,n,r){let i=T0(t,r);if(i){let s=C0(i),o=s.path,a=s.queryId,c=it(o,e),u=Ve.fromObject(n),l=new Zu(c0(a),c,u);return D0(t,o,l)}else return[]}function w0(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=it(o,e),u=Pm(a,c);if(u)return u});return p0(i,e,s,n,!0)}function nl(t,e){return I0(e,t.syncPointTree_,null,h0(t.pendingWriteTree_,K()))}function I0(t,e,n,r){if(M(t.path))return E0(t,e,n,r);{let i=e.get(K());n==null&&i!=null&&(n=Pm(i,K()));let s=[],o=V(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let u=n?n.getImmediateChild(o):null,l=m0(r,o);s=s.concat(I0(a,c,u,l))}return i&&(s=s.concat(xm(i,t,r,n))),s}}function E0(t,e,n,r){let i=e.get(K());n==null&&i!=null&&(n=Pm(i,K()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,u=m0(r,o),l=t.operationForChild(o);l&&(s=s.concat(E0(l,a,c,u)))}),i&&(s=s.concat(xm(i,t,r,n))),s}function T0(t,e){return t.tagToQueryMap.get(e)}function C0(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}}function D0(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=h0(t.pendingWriteTree_,e);return xm(r,n,i,null)}var ym=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},_m=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ye(this.path_,e);return new t(this.syncTree_,n)}node(){return w0(this.syncTree_,this.path_)}},ZF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},bC=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return JF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return XF(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},JF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},XF=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},e2=function(t,e,n,r){return Mm(e,new _m(n,t),r)},t2=function(t,e,n){return Mm(t,new ym(e),n)};function Mm(t,e,n){let r=t.getPriority().val(),i=bC(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=bC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ui(a,Ae(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ui(i))),o.forEachChild(Re,(a,c)=>{let u=Mm(c,e.getImmediateChild(a),n);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}var Uo=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function km(t,e){let n=e instanceof Y?e:new Y(e),r=t,i=V(n);for(;i!==null;){let s=ar(r.node.children,i)||{children:{},childCount:0};r=new Uo(i,r,s),n=J(n),i=V(n)}return r}function zi(t){return t.node.value}function b0(t,e){t.node.value=e,vm(t)}function S0(t){return t.node.childCount>0}function n2(t){return zi(t)===void 0&&!S0(t)}function rl(t,e){ot(t.node.children,(n,r)=>{e(new Uo(n,t,r))})}function A0(t,e,n,r){n&&!r&&e(t),rl(t,i=>{A0(i,e,!0,r)}),n&&r&&e(t)}function r2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qo(t){return new Y(t.parent===null?t.name:qo(t.parent)+"/"+t.name)}function vm(t){t.parent!==null&&i2(t.parent,t.name,t)}function i2(t,e,n){let r=n2(n),i=Ot(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,vm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,vm(t))}var s2=/[\[\].#$\/\u0000-\u001F\u007F]/,o2=/[\[\].#$\u0000-\u001F\u007F]/,Mg=10*1024*1024,R0=function(t){return typeof t=="string"&&t.length!==0&&!s2.test(t)},a2=function(t){return typeof t=="string"&&t.length!==0&&!o2.test(t)},c2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),a2(t)};var N0=function(t,e,n){let r=n instanceof Y?new Gg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Cr(r)+" with contents = "+e.toString());if(PC(e))throw new Error(t+"contains "+e.toString()+" "+Cr(r));if(typeof e=="string"&&e.length>Mg/3&&Gs(e)>Mg)throw new Error(t+"contains a string greater than "+Mg+" utf8 bytes "+Cr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ot(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!R0(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XL(r,o),N0(t,a,r),eF(r)}),i&&s)throw new Error(t+' contains ".value" child '+Cr(r)+" in addition to actual children.")}};var u2=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!R0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!c2(n))throw new Error(wI(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var wm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function l2(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!XC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Nr(t,e,n){l2(t,n),d2(t,r=>Tt(r,e)||Tt(e,r))}function d2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(h2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function h2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();br&&Se("event: "+n.toString()),$o(r)}}}var f2="repo_interrupt",p2=25,Im=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yu(),this.transactionQueueTree_=new Uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function g2(t,e,n){if(t.stats_=Sm(t.repoInfo_),t.forceRestClient_||AL())t.server_=new rm(t.repoInfo_,(r,i,s,o)=>{SC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>AC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Am(t.repoInfo_,e,(r,i,s,o)=>{SC(t,r,i,s,o)},r=>{AC(t,r)},r=>{y2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=NL(t.repoInfo_,()=>new am(t.stats_,t.server_)),t.infoData_=new im,t.infoSyncTree_=new el({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=tl(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Om(t,"connected",!1),t.serverSyncTree_=new el({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let u=o(a,c);Nr(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function m2(t){let n=t.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function x0(t){return ZF({timestamp:m2(t)})}function SC(t,e,n,r,i){t.dataUpdateCount++;let s=new Y(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=Ws(n,u=>Ae(u));o=YF(t.serverSyncTree_,s,c,i)}else{let c=Ae(n);o=QF(t.serverSyncTree_,s,c,i)}else if(r){let c=Ws(n,u=>Ae(u));o=KF(t.serverSyncTree_,s,c)}else{let c=Ae(n);o=tl(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=Fm(t,s)),Nr(t.eventQueue_,a,o)}function AC(t,e){Om(t,"connected",e),e===!1&&v2(t)}function y2(t,e){ot(e,(n,r)=>{Om(t,n,r)})}function Om(t,e,n){let r=new Y("/.info/"+e),i=Ae(n);t.infoData_.updateSnapshot(r,i);let s=tl(t.infoSyncTree_,r,i);Nr(t.eventQueue_,r,s)}function _2(t){return t.nextWriteId_++}function v2(t){P0(t,"onDisconnectEvents");let e=x0(t),n=Yu();sm(t.onDisconnect_,K(),(i,s)=>{let o=e2(i,s,t.serverSyncTree_,e);s0(n,i,o)});let r=[];sm(n,K(),(i,s)=>{r=r.concat(tl(t.serverSyncTree_,i,s));let o=T2(t,i);Fm(t,o)}),t.onDisconnect_=Yu(),Nr(t.eventQueue_,K(),r)}function w2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(f2)}function P0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Se(n,...e)}function M0(t,e,n){return w0(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function Lm(t,e=t.transactionQueueTree_){if(e||il(t,e),zi(e)){let n=O0(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&I2(t,qo(e),n)}else S0(e)&&rl(e,n=>{Lm(t,n)})}function I2(t,e,n){let r=n.map(u=>u.currentWriteId),i=M0(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let l=n[u];m(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let d=it(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,u=>{P0(t,"transaction put response",{path:c.toString(),status:u});let l=[];if(u==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(ki(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();il(t,km(t.transactionQueueTree_,e)),Lm(t,t.transactionQueueTree_),Nr(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)$o(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ke("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Fm(t,e)}},o)}function Fm(t,e){let n=k0(t,e),r=qo(n),i=O0(t,n);return E2(t,i,r),r}function E2(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=it(n,c.path),l=!1,d;if(m(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)l=!0,d=c.abortReason,i=i.concat(ki(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=p2)l=!0,d="maxretry",i=i.concat(ki(t.serverSyncTree_,c.currentWriteId,!0));else{let h=M0(t,c.path,o);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){N0("transaction failed: Data returned ",f,c.path);let g=Ae(f);typeof f=="object"&&f!=null&&Ot(f,".priority")||(g=g.updatePriority(h.getPriority()));let j=c.currentWriteId,q=x0(t),_e=t2(g,h,q);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=_e,c.currentWriteId=_2(t),o.splice(o.indexOf(j),1),i=i.concat(GF(t.serverSyncTree_,c.path,_e,c.currentWriteId,c.applyLocally)),i=i.concat(ki(t.serverSyncTree_,j,!0))}else l=!0,d="nodata",i=i.concat(ki(t.serverSyncTree_,c.currentWriteId,!0))}Nr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}il(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$o(r[a]);Lm(t,t.transactionQueueTree_)}function k0(t,e){let n,r=t.transactionQueueTree_;for(n=V(e);n!==null&&zi(r)===void 0;)r=km(r,n),e=J(e),n=V(e);return r}function O0(t,e){let n=[];return L0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function L0(t,e,n){let r=zi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rl(e,i=>{L0(t,i,n)})}function il(t,e){let n=zi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,b0(e,n.length>0?n:void 0)}rl(e,r=>{il(t,r)})}function T2(t,e){let n=qo(k0(t,e)),r=km(t.transactionQueueTree_,e);return r2(r,i=>{kg(t,i)}),kg(t,r),A0(r,i=>{kg(t,i)}),n}function kg(t,e){let n=zi(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(m(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(m(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ki(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?b0(e,void 0):n.length=s+1,Nr(t.eventQueue_,qo(e),i);for(let o=0;o<r.length;o++)$o(r[o])}}function C2(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function D2(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ke(`Invalid query segment '${n}' in query '${t}'`)}return e}var RC=function(t,e){let n=b2(t),r=n.namespace;n.domain==="firebase.com"&&dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Hu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Y(n.pathString)}},b2=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let l=t.indexOf("/");l===-1&&(l=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=C2(t.substring(l,d)));let h=D2(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Em=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return M(this._path)?null:YC(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){let e=gC(this._queryParams),n=bm(e);return n==="{}"?"default":n}get _queryObject(){return gC(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=XC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+JL(this._path)}};var Hi=class t extends Em{constructor(e,n){super(e,n,new nm,!1)}get parent(){let e=JC(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};zF(Hi);WF(Hi);var S2="FIREBASE_DATABASE_EMULATOR_HOST",Tm={},A2=!1;function R2(t,e,n,r){t.repoInfo_=new Hu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function N2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=RC(s,i),a=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[S2]),u?(c=!0,s=`http://${u}?ns=${a.namespace}`,o=RC(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let l=i&&c?new ko(ko.OWNER):new jg(t.name,t.options,e);u2("Invalid Firebase Database URL",o),M(o.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=P2(a,t,l,new Ug(t.name,n));return new Cm(d,t)}function x2(t,e){let n=Tm[e];(!n||n[t.key]!==t)&&dn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),w2(t),delete n[t.key]}function P2(t,e,n,r){let i=Tm[e.name];i||(i={},Tm[e.name]=i);let s=i[t.toURLString()];return s&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Im(t,A2,n,r),i[t.toURLString()]=s,s}var Cm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(g2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(x2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&dn("Cannot call "+e+" on a deleted database.")}};function F0(t=Rn(),e){let n=hr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Mc("database");r&&V0(n,...r)}return n}function V0(t,e,n,r={}){t=_t(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&dn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ko(ko.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:kc(r.mockUserToken,t.app.options.projectId);s=new ko(o)}R2(i,e,n,s)}function M2(t){yL(Ut),Vt(new Le("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return N2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),X(ZT,JT,t),X(ZT,JT,"esm2017")}Am.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Am.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};M2();var zo=class{constructor(e){return e}},U0="database",Vm=class{constructor(){return pr(U0)}};var Um=new A("angularfire2.database-instances");function k2(t,e){let n=wi(U0,t,e);return n&&new zo(n)}function O2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zo(r)}}var L2={provide:Vm,deps:[[new ce,Um]]},F2={provide:zo,useFactory:k2,deps:[[new ce,Um],vt]},V2=(()=>{class t{constructor(){X("angularfire",rn.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=gt({type:t});static \u0275inj=yt({providers:[F2,L2]})}return t})();function j0(t,...e){return{ngModule:V2,providers:[{provide:Um,useFactory:O2(t),multi:!0,deps:[z,He,xn,sn,[new ce,_r],[new ce,Nn],...e]}]}}var B0=Pn(F0,!0);var $0={providers:[aI(cI),oi(OI(()=>LI({projectId:"puntos-app-28ff8",appId:"1:974906055403:web:fa66291e39061b937cbcae",storageBucket:"puntos-app-28ff8.appspot.com",apiKey:"AIzaSyBhr3VDmAlQTj2W45FV2Q1zaHhzdw0_hhk",authDomain:"puntos-app-28ff8.firebaseapp.com",messagingSenderId:"974906055403",measurementId:"G-KTD2CXM3QT"}))),oi(IE(()=>EE())),oi(QT(()=>YT())),oi(j0(()=>B0()))]};var U2=(t,e)=>e.title;function j2(t,e){if(t&1&&(ue(0,"a",31)(1,"span"),oc(2),Pe(),si(),ue(3,"svg",32),Oe(4,"path",33),Pe()()),t&2){let n=e.$implicit;ah("href",n.link,pv),Ja(2),ch(n.title)}}var B2=()=>({title:"Explore the Docs",link:"https://angular.dev"}),$2=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),H2=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),q2=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),z2=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),W2=(t,e,n,r,i)=>[t,e,n,r,i],H0=(()=>{let e=class e{constructor(){this.title="app-puntos-class"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ua({type:e,selectors:[["app-root"]],standalone:!0,features:[cc],decls:39,vars:12,consts:[[1,"main"],[1,"content"],[1,"left-side"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],["role","separator","aria-label","Divider",1,"divider"],[1,"right-side"],[1,"pill-group"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["target","_blank","rel","noopener",1,"pill",3,"href"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"],["class","pill","target","_blank","rel","noopener",3,"href"]],template:function(i,s){i&1&&(ue(0,"main",0)(1,"div",1)(2,"div",2),si(),ue(3,"svg",3)(4,"g",4),Oe(5,"path",5)(6,"path",6),Pe(),ue(7,"defs")(8,"radialGradient",7),Oe(9,"stop",8)(10,"stop",9)(11,"stop",10),Pe(),ue(12,"linearGradient",11),Oe(13,"stop",12)(14,"stop",13)(15,"stop",14)(16,"stop",15),Pe(),ue(17,"clipPath",16),Oe(18,"path",17),Pe()()(),ys(),ue(19,"h1"),oc(20),Pe(),ue(21,"p"),oc(22,"Congratulations! Your app is running. \u{1F389}"),Pe()(),Oe(23,"div",18),ue(24,"div",19)(25,"div",20),Jv(26,j2,5,2,"a",34,U2),Pe(),ue(28,"div",21)(29,"a",22),si(),ue(30,"svg",23),Oe(31,"path",24),Pe()(),ys(),ue(32,"a",25),si(),ue(33,"svg",26),Oe(34,"path",27),Pe()(),ys(),ue(35,"a",28),si(),ue(36,"svg",29),Oe(37,"path",30),Pe()()()()()(),ys(),Oe(38,"router-outlet")),i&2&&(Ja(20),ac("Hello, ",s.title,""),Ja(6),Xv(ew(6,W2,ai(1,B2),ai(2,$2),ai(3,H2),ai(4,q2),ai(5,z2))))},dependencies:[ef],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(
      180deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(
      90deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]});let t=e;return t})();Dw(H0,$0).catch(t=>console.error(t));
